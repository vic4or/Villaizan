generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model account_emailaddress {
  id                        Int                         @id @default(autoincrement())
  email                     String                      @db.VarChar(254)
  verified                  Boolean
  primary                   Boolean
  user_id                   Int
  auth_user                 auth_user                   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "account_emailaddress_user_id_2c513194_fk_auth_user_id")
  account_emailconfirmation account_emailconfirmation[]

  @@unique([user_id, email], map: "account_emailaddress_user_id_email_987c8728_uniq")
  @@index([email], map: "account_emailaddress_email_03be32b2")
  @@index([email], map: "account_emailaddress_email_03be32b2_like")
  @@index([user_id], map: "account_emailaddress_user_id_2c513194")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model account_emailconfirmation {
  id                   Int                  @id @default(autoincrement())
  created              DateTime             @db.Timestamptz(6)
  sent                 DateTime?            @db.Timestamptz(6)
  key                  String               @unique @db.VarChar(64)
  email_address_id     Int
  account_emailaddress account_emailaddress @relation(fields: [email_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "account_emailconfirm_email_address_id_5b7f8c58_fk_account_e")

  @@index([email_address_id], map: "account_emailconfirmation_email_address_id_5b7f8c58")
  @@index([key], map: "account_emailconfirmation_key_f43612bd_like")
}

model address {
  id                                            String        @id(map: "PK_d92de1f82754668b5f5f5dd4fd5") @db.VarChar
  customer_id                                   String?       @db.VarChar
  company                                       String?       @db.VarChar
  first_name                                    String?       @db.VarChar
  last_name                                     String?       @db.VarChar
  address_1                                     String?       @db.VarChar
  address_2                                     String?       @db.VarChar
  city                                          String?       @db.VarChar
  country_code                                  String?       @db.VarChar
  province                                      String?       @db.VarChar
  postal_code                                   String?       @db.VarChar
  phone                                         String?       @db.VarChar
  created_at                                    DateTime      @default(now()) @db.Timestamptz(6)
  updated_at                                    DateTime      @default(now()) @db.Timestamptz(6)
  deleted_at                                    DateTime?     @db.Timestamptz(6)
  metadata                                      Json?
  country                                       country?      @relation(fields: [country_code], references: [iso_2], onDelete: NoAction, onUpdate: NoAction, map: "FK_6df8c6bf969a51d24c1980c4ff4")
  customer_address_customer_idTocustomer        customer?     @relation("address_customer_idTocustomer", fields: [customer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_9c9614b2f9d01665800ea8dbff7")
  cart_cart_billing_address_idToaddress         cart[]        @relation("cart_billing_address_idToaddress")
  cart_cart_shipping_address_idToaddress        cart[]        @relation("cart_shipping_address_idToaddress")
  claim_order                                   claim_order[]
  customer_customer_billing_address_idToaddress customer?     @relation("customer_billing_address_idToaddress")
  order_order_shipping_address_idToaddress      order[]       @relation("order_shipping_address_idToaddress")
  order_order_billing_address_idToaddress       order[]       @relation("order_billing_address_idToaddress")
  swap                                          swap[]

  @@index([customer_id], map: "IDX_9c9614b2f9d01665800ea8dbff")
}

model analytics_config {
  id         String    @id(map: "PK_93505647c5d7cb479becb810b0f") @db.VarChar
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  updated_at DateTime  @default(now()) @db.Timestamptz(6)
  deleted_at DateTime? @db.Timestamptz(6)
  user_id    String    @db.VarChar
  opt_out    Boolean   @default(false)
  anonymize  Boolean   @default(false)
}

model auth_group {
  id                     Int                      @id @default(autoincrement())
  name                   String                   @unique @db.VarChar(150)
  auth_group_permissions auth_group_permissions[]
  auth_user_groups       auth_user_groups[]

  @@index([name], map: "auth_group_name_a6ea08ec_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_group_permissions {
  id              BigInt          @id @default(autoincrement())
  group_id        Int
  permission_id   Int
  auth_permission auth_permission @relation(fields: [permission_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm")
  auth_group      auth_group      @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id")

  @@unique([group_id, permission_id], map: "auth_group_permissions_group_id_permission_id_0cd325b0_uniq")
  @@index([group_id], map: "auth_group_permissions_group_id_b120cbf9")
  @@index([permission_id], map: "auth_group_permissions_permission_id_84c5c92e")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_permission {
  id                         Int                          @id @default(autoincrement())
  name                       String                       @db.VarChar(255)
  content_type_id            Int
  codename                   String                       @db.VarChar(100)
  auth_group_permissions     auth_group_permissions[]
  django_content_type        django_content_type          @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_permission_content_type_id_2f476e4b_fk_django_co")
  auth_user_user_permissions auth_user_user_permissions[]

  @@unique([content_type_id, codename], map: "auth_permission_content_type_id_codename_01ab375a_uniq")
  @@index([content_type_id], map: "auth_permission_content_type_id_2f476e4b")
}

model auth_user {
  id                          Int                           @id @default(autoincrement())
  password                    String                        @db.VarChar(128)
  last_login                  DateTime?                     @db.Timestamptz(6)
  is_superuser                Boolean
  username                    String                        @unique @db.VarChar(150)
  first_name                  String                        @db.VarChar(150)
  last_name                   String                        @db.VarChar(150)
  email                       String                        @db.VarChar(254)
  is_staff                    Boolean
  is_active                   Boolean
  date_joined                 DateTime                      @db.Timestamptz(6)
  account_emailaddress        account_emailaddress[]
  auth_user_groups            auth_user_groups[]
  auth_user_user_permissions  auth_user_user_permissions[]
  django_admin_log            django_admin_log[]
  socialaccount_socialaccount socialaccount_socialaccount[]

  @@index([username], map: "auth_user_username_6821ab7c_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_user_groups {
  id         BigInt     @id @default(autoincrement())
  user_id    Int
  group_id   Int
  auth_group auth_group @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_user_groups_group_id_97559544_fk_auth_group_id")
  auth_user  auth_user  @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_user_groups_user_id_6a12ed8b_fk_auth_user_id")

  @@unique([user_id, group_id], map: "auth_user_groups_user_id_group_id_94350c0c_uniq")
  @@index([group_id], map: "auth_user_groups_group_id_97559544")
  @@index([user_id], map: "auth_user_groups_user_id_6a12ed8b")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_user_user_permissions {
  id              BigInt          @id @default(autoincrement())
  user_id         Int
  permission_id   Int
  auth_permission auth_permission @relation(fields: [permission_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm")
  auth_user       auth_user       @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id")

  @@unique([user_id, permission_id], map: "auth_user_user_permissions_user_id_permission_id_14a6b632_uniq")
  @@index([permission_id], map: "auth_user_user_permissions_permission_id_1fbb5f2c")
  @@index([user_id], map: "auth_user_user_permissions_user_id_a95ead1b")
}

model batch_job {
  id               String    @id(map: "PK_e57f84d485145d5be96bc6d871e") @db.VarChar
  type             String
  created_by       String?   @db.VarChar
  context          Json?
  result           Json?
  dry_run          Boolean   @default(false)
  created_at       DateTime  @default(now()) @db.Timestamptz(6)
  pre_processed_at DateTime? @db.Timestamptz(6)
  confirmed_at     DateTime? @db.Timestamptz(6)
  processing_at    DateTime? @db.Timestamptz(6)
  completed_at     DateTime? @db.Timestamptz(6)
  failed_at        DateTime? @db.Timestamptz(6)
  canceled_at      DateTime? @db.Timestamptz(6)
  updated_at       DateTime  @default(now()) @db.Timestamptz(6)
  deleted_at       DateTime? @db.Timestamptz(6)
  user             user?     @relation(fields: [created_by], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_fa53ca4f5fd90605b532802a626")
}

model cart {
  id                                        String                   @id(map: "PK_c524ec48751b9b5bcfbf6e59be7") @db.VarChar
  email                                     String?                  @db.VarChar
  billing_address_id                        String?                  @db.VarChar
  shipping_address_id                       String?                  @db.VarChar
  region_id                                 String                   @db.VarChar
  customer_id                               String?                  @db.VarChar
  payment_id                                String?                  @unique(map: "REL_9d1a161434c610aae7c3df2dc7") @db.VarChar
  type                                      cart_type_enum           @default(default)
  completed_at                              DateTime?                @db.Timestamptz(6)
  created_at                                DateTime                 @default(now()) @db.Timestamptz(6)
  updated_at                                DateTime                 @default(now()) @db.Timestamptz(6)
  deleted_at                                DateTime?                @db.Timestamptz(6)
  metadata                                  Json?
  idempotency_key                           String?                  @db.VarChar
  context                                   Json?
  payment_authorized_at                     DateTime?                @db.Timestamptz(6)
  sales_channel_id                          String?                  @db.VarChar
  customer                                  customer?                @relation(fields: [customer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_242205c81c1152fab1b6e848470")
  region                                    region                   @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_484c329f4783be4e18e5e2ff090")
  address_cart_billing_address_idToaddress  address?                 @relation("cart_billing_address_idToaddress", fields: [billing_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_6b9c66b5e36f7c827dfaa092f94")
  payment_cart_payment_idTopayment          payment?                 @relation("cart_payment_idTopayment", fields: [payment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_9d1a161434c610aae7c3df2dc7e")
  sales_channel                             sales_channel?           @relation(fields: [sales_channel_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a2bd3c26f42e754b9249ba78fd6")
  address_cart_shipping_address_idToaddress address?                 @relation("cart_shipping_address_idToaddress", fields: [shipping_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_ced15a9a695d2b5db9dabce763d")
  cart_discounts                            cart_discounts[]
  cart_gift_cards                           cart_gift_cards[]
  custom_shipping_option                    custom_shipping_option[]
  draft_order                               draft_order?
  line_item                                 line_item[]
  order                                     order?
  payment_payment_cart_idTocart             payment[]                @relation("payment_cart_idTocart")
  payment_session                           payment_session[]
  shipping_method                           shipping_method[]
  swap                                      swap?

  @@index([customer_id], map: "IDX_242205c81c1152fab1b6e84847")
  @@index([region_id], map: "IDX_484c329f4783be4e18e5e2ff09")
  @@index([billing_address_id], map: "IDX_6b9c66b5e36f7c827dfaa092f9")
  @@index([payment_id], map: "IDX_9d1a161434c610aae7c3df2dc7")
  @@index([shipping_address_id], map: "IDX_ced15a9a695d2b5db9dabce763")
}

model cart_discounts {
  cart_id     String   @db.VarChar
  discount_id String   @db.VarChar
  cart        cart     @relation(fields: [cart_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_6680319ebe1f46d18f106191d59")
  discount    discount @relation(fields: [discount_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_8df75ef4f35f217768dc1135458")

  @@id([cart_id, discount_id], map: "PK_10bd412c9071ccc0cf555afd9bb")
  @@index([cart_id], map: "IDX_6680319ebe1f46d18f106191d5")
  @@index([discount_id], map: "IDX_8df75ef4f35f217768dc113545")
}

model cart_gift_cards {
  cart_id      String    @db.VarChar
  gift_card_id String    @db.VarChar
  gift_card    gift_card @relation(fields: [gift_card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_0fb38b6d167793192bc126d835e")
  cart         cart      @relation(fields: [cart_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_d38047a90f3d42f0be7909e8aea")

  @@id([cart_id, gift_card_id], map: "PK_2389be82bf0ef3635e2014c9ef1")
  @@index([gift_card_id], map: "IDX_0fb38b6d167793192bc126d835")
  @@index([cart_id], map: "IDX_d38047a90f3d42f0be7909e8ae")
}

model claim_image {
  id            String     @id(map: "PK_7c49e44bfe8840ca7d917890101") @db.VarChar
  claim_item_id String     @db.VarChar
  url           String     @db.VarChar
  created_at    DateTime   @default(now()) @db.Timestamptz(6)
  updated_at    DateTime   @default(now()) @db.Timestamptz(6)
  deleted_at    DateTime?  @db.Timestamptz(6)
  metadata      Json?
  claim_item    claim_item @relation(fields: [claim_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_21cbfedd83d736d86f4c6f4ce56")

  @@index([claim_item_id], map: "IDX_21cbfedd83d736d86f4c6f4ce5")
}

model claim_item {
  id              String                 @id(map: "PK_5679662039bc4c7c6bc7fa1be2d") @db.VarChar
  claim_order_id  String                 @db.VarChar
  item_id         String                 @db.VarChar
  variant_id      String                 @db.VarChar
  reason          claim_item_reason_enum
  note            String?                @db.VarChar
  quantity        Int
  created_at      DateTime               @default(now()) @db.Timestamptz(6)
  updated_at      DateTime               @default(now()) @db.Timestamptz(6)
  deleted_at      DateTime?              @db.Timestamptz(6)
  metadata        Json?
  claim_image     claim_image[]
  product_variant product_variant        @relation(fields: [variant_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_64980511ca32c8e92b417644afa")
  line_item       line_item              @relation(fields: [item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_6e0cad0daef76bb642675910b9d")
  claim_order     claim_order            @relation(fields: [claim_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_900a9c3834257304396b2b0fe7c")
  claim_item_tags claim_item_tags[]

  @@index([variant_id], map: "IDX_64980511ca32c8e92b417644af")
  @@index([item_id], map: "IDX_6e0cad0daef76bb642675910b9")
  @@index([claim_order_id], map: "IDX_900a9c3834257304396b2b0fe7")
}

model claim_item_tags {
  item_id    String     @db.VarChar
  tag_id     String     @db.VarChar
  claim_item claim_item @relation(fields: [item_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_c2c0f3edf39515bd15432afe6e5")
  claim_tag  claim_tag  @relation(fields: [tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_dc9bbf9fcb9ba458d25d512811b")

  @@id([item_id, tag_id], map: "PK_54ab8ce0f7e99167068188fbd81")
  @@index([item_id], map: "IDX_c2c0f3edf39515bd15432afe6e")
  @@index([tag_id], map: "IDX_dc9bbf9fcb9ba458d25d512811")
}

model claim_order {
  id                  String                              @id(map: "PK_8981f5595a4424021466aa4c7a4") @db.VarChar
  payment_status      claim_order_payment_status_enum     @default(na)
  fulfillment_status  claim_order_fulfillment_status_enum @default(not_fulfilled)
  type                claim_order_type_enum
  order_id            String                              @db.VarChar
  shipping_address_id String?                             @db.VarChar
  refund_amount       Int?
  canceled_at         DateTime?                           @db.Timestamptz(6)
  created_at          DateTime                            @default(now()) @db.Timestamptz(6)
  updated_at          DateTime                            @default(now()) @db.Timestamptz(6)
  deleted_at          DateTime?                           @db.Timestamptz(6)
  metadata            Json?
  idempotency_key     String?                             @db.VarChar
  no_notification     Boolean?
  claim_item          claim_item[]
  address             address?                            @relation(fields: [shipping_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_017d58bf8260c6e1a2588d258e2")
  order               order                               @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_f49e3974465d3c3a33d449d3f31")
  fulfillment         fulfillment[]
  line_item           line_item[]
  Renamedreturn       Renamedreturn?
  shipping_method     shipping_method[]

  @@index([shipping_address_id], map: "IDX_017d58bf8260c6e1a2588d258e")
  @@index([order_id], map: "IDX_f49e3974465d3c3a33d449d3f3")
}

model claim_tag {
  id              String            @id(map: "PK_7761180541142a5926501018d34") @db.VarChar
  value           String            @db.VarChar
  created_at      DateTime          @default(now()) @db.Timestamptz(6)
  updated_at      DateTime          @default(now()) @db.Timestamptz(6)
  deleted_at      DateTime?         @db.Timestamptz(6)
  metadata        Json?
  claim_item_tags claim_item_tags[]

  @@index([value], map: "IDX_ec10c54769877840c132260e4a")
}

model country {
  id           Int       @id(map: "PK_bf6e37c231c4f4ea56dcd887269") @default(autoincrement())
  iso_2        String    @unique(map: "IDX_e78901b1131eaf8203d9b1cb5f") @db.VarChar
  iso_3        String    @db.VarChar
  num_code     Int
  name         String    @db.VarChar
  display_name String    @db.VarChar
  region_id    String?   @db.VarChar
  address      address[]
  region       region?   @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b1aac8314662fa6b25569a575bb")

  @@index([region_id], map: "IDX_b1aac8314662fa6b25569a575b")
}

model currency {
  code             String             @id(map: "PK_723472e41cae44beb0763f4039c") @db.VarChar
  symbol           String             @db.VarChar
  symbol_native    String             @db.VarChar
  name             String             @db.VarChar
  money_amount     money_amount[]
  order            order[]
  payment          payment[]
  region           region[]
  store            store[]
  store_currencies store_currencies[]
}

model custom_shipping_option {
  id                 String          @id(map: "PK_8dfcb5c1172c29eec4a728420cc") @db.VarChar
  price              Int
  shipping_option_id String          @db.VarChar
  cart_id            String?         @db.VarChar
  created_at         DateTime        @default(now()) @db.Timestamptz(6)
  updated_at         DateTime        @default(now()) @db.Timestamptz(6)
  deleted_at         DateTime?       @db.Timestamptz(6)
  metadata           Json?
  shipping_option    shipping_option @relation(fields: [shipping_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_44090cb11b06174cbcc667e91ca")
  cart               cart?           @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_93caeb1bb70d37c1d36d6701a7a")

  @@unique([shipping_option_id, cart_id], map: "UQ_0f838b122a9a01d921aa1cdb669")
  @@index([shipping_option_id], map: "IDX_44090cb11b06174cbcc667e91c")
  @@index([cart_id], map: "IDX_93caeb1bb70d37c1d36d6701a7")
}

model customer {
  id                                           String                     @id(map: "PK_a7a13f4cacb744524e44dfdad32") @db.VarChar
  email                                        String                     @db.VarChar
  first_name                                   String?                    @db.VarChar
  last_name                                    String?                    @db.VarChar
  billing_address_id                           String?                    @unique(map: "REL_8abe81b9aac151ae60bf507ad1") @db.VarChar
  password_hash                                String?                    @db.VarChar
  phone                                        String?                    @db.VarChar
  has_account                                  Boolean                    @default(false)
  created_at                                   DateTime                   @default(now()) @db.Timestamptz(6)
  updated_at                                   DateTime                   @default(now()) @db.Timestamptz(6)
  deleted_at                                   DateTime?                  @db.Timestamptz(6)
  metadata                                     Json?
  address_address_customer_idTocustomer        address[]                  @relation("address_customer_idTocustomer")
  cart                                         cart[]
  address_customer_billing_address_idToaddress address?                   @relation("customer_billing_address_idToaddress", fields: [billing_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_8abe81b9aac151ae60bf507ad15")
  customer_group_customers                     customer_group_customers[]
  notification                                 notification[]
  order                                        order[]

  @@index([billing_address_id], map: "IDX_8abe81b9aac151ae60bf507ad1")
}

model customer_group {
  id                                String                              @id(map: "PK_88e7da3ff7262d9e0a35aa3664e") @db.VarChar
  name                              String                              @db.VarChar
  created_at                        DateTime                            @default(now()) @db.Timestamptz(6)
  updated_at                        DateTime                            @default(now()) @db.Timestamptz(6)
  deleted_at                        DateTime?                           @db.Timestamptz(6)
  metadata                          Json?
  customer_group_customers          customer_group_customers[]
  discount_condition_customer_group discount_condition_customer_group[]
  price_list_customer_groups        price_list_customer_groups[]
}

model customer_group_customers {
  customer_group_id String         @db.VarChar
  customer_id       String         @db.VarChar
  customer          customer       @relation(fields: [customer_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_3c6412d076292f439269abe1a23")
  customer_group    customer_group @relation(fields: [customer_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_620330964db8d2999e67b0dbe3e")

  @@id([customer_group_id, customer_id], map: "PK_e28a55e34ad1e2d3df9a0ac86d3")
  @@index([customer_id], map: "IDX_3c6412d076292f439269abe1a2")
  @@index([customer_group_id], map: "IDX_620330964db8d2999e67b0dbe3")
}

model discount {
  id                   String                 @id(map: "PK_d05d8712e429673e459e7f1cddb") @db.VarChar
  code                 String                 @db.VarChar
  is_dynamic           Boolean
  rule_id              String?                @db.VarChar
  is_disabled          Boolean
  parent_discount_id   String?                @db.VarChar
  starts_at            DateTime               @default(now()) @db.Timestamptz(6)
  ends_at              DateTime?              @db.Timestamptz(6)
  created_at           DateTime               @default(now()) @db.Timestamptz(6)
  updated_at           DateTime               @default(now()) @db.Timestamptz(6)
  deleted_at           DateTime?              @db.Timestamptz(6)
  metadata             Json?
  usage_limit          Int?
  usage_count          Int                    @default(0)
  valid_duration       String?                @db.VarChar
  cart_discounts       cart_discounts[]
  discount             discount?              @relation("discountTodiscount", fields: [parent_discount_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_2250c5d9e975987ab212f61a663")
  other_discount       discount[]             @relation("discountTodiscount")
  discount_rule        discount_rule?         @relation(fields: [rule_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_ac2c280de3701b2d66f6817f760")
  discount_regions     discount_regions[]
  line_item_adjustment line_item_adjustment[]
  order_discounts      order_discounts[]

  @@index([rule_id], map: "IDX_ac2c280de3701b2d66f6817f76")
}

model discount_condition {
  id                                    String                                  @id(map: "PK_e6b81d83133ddc21a2baf2e2204") @db.VarChar
  type                                  discount_condition_type_enum
  operator                              discount_condition_operator_enum
  discount_rule_id                      String                                  @db.VarChar
  created_at                            DateTime                                @default(now()) @db.Timestamptz(6)
  updated_at                            DateTime                                @default(now()) @db.Timestamptz(6)
  deleted_at                            DateTime?                               @db.Timestamptz(6)
  metadata                              Json?
  discount_rule                         discount_rule                           @relation(fields: [discount_rule_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_efff700651718e452ca9580a624")
  discount_condition_customer_group     discount_condition_customer_group[]
  discount_condition_product            discount_condition_product[]
  discount_condition_product_collection discount_condition_product_collection[]
  discount_condition_product_tag        discount_condition_product_tag[]
  discount_condition_product_type       discount_condition_product_type[]

  @@unique([type, operator, discount_rule_id], map: "dctypeuniq")
  @@index([discount_rule_id], map: "IDX_efff700651718e452ca9580a62")
}

model discount_condition_customer_group {
  customer_group_id  String             @db.VarChar
  condition_id       String             @db.VarChar
  created_at         DateTime           @default(now()) @db.Timestamptz(6)
  updated_at         DateTime           @default(now()) @db.Timestamptz(6)
  metadata           Json?
  customer_group     customer_group     @relation(fields: [customer_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_4d5f98645a67545d8dea42e2eb8")
  discount_condition discount_condition @relation(fields: [condition_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_8486ee16e69013c645d0b8716b6")

  @@id([customer_group_id, condition_id], map: "PK_cdc8b2277169a16b8b7d4c73e0e")
  @@index([customer_group_id], map: "IDX_4d5f98645a67545d8dea42e2eb")
  @@index([condition_id], map: "IDX_8486ee16e69013c645d0b8716b")
}

model discount_condition_product {
  product_id         String             @db.VarChar
  condition_id       String             @db.VarChar
  created_at         DateTime           @default(now()) @db.Timestamptz(6)
  updated_at         DateTime           @default(now()) @db.Timestamptz(6)
  metadata           Json?
  product            product            @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_c759f53b2e48e8cfb50638fe4e0")
  discount_condition discount_condition @relation(fields: [condition_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_f05132301e95bdab4ba1cf29a24")

  @@id([product_id, condition_id], map: "PK_994eb4529fdbf14450d64ec17e8")
  @@index([product_id], map: "IDX_c759f53b2e48e8cfb50638fe4e")
  @@index([condition_id], map: "IDX_f05132301e95bdab4ba1cf29a2")
}

model discount_condition_product_collection {
  product_collection_id String             @db.VarChar
  condition_id          String             @db.VarChar
  created_at            DateTime           @default(now()) @db.Timestamptz(6)
  updated_at            DateTime           @default(now()) @db.Timestamptz(6)
  metadata              Json?
  product_collection    product_collection @relation(fields: [product_collection_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_a0b05dc4257abe639cb75f8eae2")
  discount_condition    discount_condition @relation(fields: [condition_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_a1c4f9cfb599ad1f0db39cadd5f")

  @@id([product_collection_id, condition_id], map: "PK_b3508fc787aa4a38705866cbb6d")
  @@index([product_collection_id], map: "IDX_a0b05dc4257abe639cb75f8eae")
  @@index([condition_id], map: "IDX_a1c4f9cfb599ad1f0db39cadd5")
}

model discount_condition_product_tag {
  product_tag_id     String             @db.VarChar
  condition_id       String             @db.VarChar
  created_at         DateTime           @default(now()) @db.Timestamptz(6)
  updated_at         DateTime           @default(now()) @db.Timestamptz(6)
  metadata           Json?
  product_tag        product_tag        @relation(fields: [product_tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_01486cc9dc6b36bf658685535f6")
  discount_condition discount_condition @relation(fields: [condition_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_fbb2499551ed074526f3ee36241")

  @@id([product_tag_id, condition_id], map: "PK_a95382c1e62205b121aa058682b")
  @@index([product_tag_id], map: "IDX_01486cc9dc6b36bf658685535f")
  @@index([condition_id], map: "IDX_fbb2499551ed074526f3ee3624")
}

model discount_condition_product_type {
  product_type_id    String             @db.VarChar
  condition_id       String             @db.VarChar
  created_at         DateTime           @default(now()) @db.Timestamptz(6)
  updated_at         DateTime           @default(now()) @db.Timestamptz(6)
  metadata           Json?
  discount_condition discount_condition @relation(fields: [condition_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_6ef23ce0b1d9cf9b5b833e52b9d")
  product_type       product_type       @relation(fields: [product_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_e706deb68f52ab2756119b9e704")

  @@id([product_type_id, condition_id], map: "PK_35d538a5a24399d0df978df12ed")
  @@index([condition_id], map: "IDX_6ef23ce0b1d9cf9b5b833e52b9")
  @@index([product_type_id], map: "IDX_e706deb68f52ab2756119b9e70")
}

model discount_regions {
  discount_id String   @db.VarChar
  region_id   String   @db.VarChar
  region      region   @relation(fields: [region_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_a21a7ffbe420d492eb46c305fec")
  discount    discount @relation(fields: [discount_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_f4194aa81073f3fab8aa86906ff")

  @@id([discount_id, region_id], map: "PK_15974566a8b6e04a7c754e85b75")
  @@index([region_id], map: "IDX_a21a7ffbe420d492eb46c305fe")
  @@index([discount_id], map: "IDX_f4194aa81073f3fab8aa86906f")
}

model discount_rule {
  id                     String                         @id(map: "PK_ac2c280de3701b2d66f6817f760") @db.VarChar
  description            String?                        @db.VarChar
  type                   discount_rule_type_enum
  value                  Int
  allocation             discount_rule_allocation_enum?
  created_at             DateTime                       @default(now()) @db.Timestamptz(6)
  updated_at             DateTime                       @default(now()) @db.Timestamptz(6)
  deleted_at             DateTime?                      @db.Timestamptz(6)
  metadata               Json?
  discount               discount[]
  discount_condition     discount_condition[]
  discount_rule_products discount_rule_products[]
}

model discount_rule_products {
  discount_rule_id String        @db.VarChar
  product_id       String        @db.VarChar
  discount_rule    discount_rule @relation(fields: [discount_rule_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_4e0739e5f0244c08d41174ca08a")
  product          product       @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_be66106a673b88a81c603abe7eb")

  @@id([discount_rule_id, product_id], map: "PK_351c8c92f5d27283c445cd022ee")
  @@index([discount_rule_id], map: "IDX_4e0739e5f0244c08d41174ca08")
  @@index([product_id], map: "IDX_be66106a673b88a81c603abe7e")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model django_admin_log {
  id                  Int                  @id @default(autoincrement())
  action_time         DateTime             @db.Timestamptz(6)
  object_id           String?
  object_repr         String               @db.VarChar(200)
  action_flag         Int                  @db.SmallInt
  change_message      String
  content_type_id     Int?
  user_id             Int
  django_content_type django_content_type? @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "django_admin_log_content_type_id_c4bce8eb_fk_django_co")
  auth_user           auth_user            @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "django_admin_log_user_id_c564eba6_fk_auth_user_id")

  @@index([content_type_id], map: "django_admin_log_content_type_id_c4bce8eb")
  @@index([user_id], map: "django_admin_log_user_id_c564eba6")
}

model django_content_type {
  id               Int                @id @default(autoincrement())
  app_label        String             @db.VarChar(100)
  model            String             @db.VarChar(100)
  auth_permission  auth_permission[]
  django_admin_log django_admin_log[]

  @@unique([app_label, model], map: "django_content_type_app_label_model_76bd3d3b_uniq")
}

model django_migrations {
  id      BigInt   @id @default(autoincrement())
  app     String   @db.VarChar(255)
  name    String   @db.VarChar(255)
  applied DateTime @db.Timestamptz(6)
}

model django_session {
  session_key  String   @id @db.VarChar(40)
  session_data String
  expire_date  DateTime @db.Timestamptz(6)

  @@index([expire_date], map: "django_session_expire_date_a5c62663")
  @@index([session_key], map: "django_session_session_key_c0390e0f_like")
}

model django_site {
  id                            Int                             @id @default(autoincrement())
  domain                        String                          @unique(map: "django_site_domain_a2e37b91_uniq") @db.VarChar(100)
  name                          String                          @db.VarChar(50)
  socialaccount_socialapp_sites socialaccount_socialapp_sites[]

  @@index([domain], map: "django_site_domain_a2e37b91_like")
}

model draft_order {
  id                                      String                  @id(map: "PK_f478946c183d98f8d88a94cfcd7") @db.VarChar
  status                                  draft_order_status_enum @default(open)
  display_id                              Int                     @default(autoincrement())
  cart_id                                 String?                 @unique(map: "REL_5bd11d0e2a9628128e2c26fd0a") @db.VarChar
  order_id                                String?                 @unique(map: "REL_8f6dd6c49202f1466ebf21e77d") @db.VarChar
  canceled_at                             DateTime?               @db.Timestamptz(6)
  created_at                              DateTime                @default(now()) @db.Timestamptz(6)
  updated_at                              DateTime                @default(now()) @db.Timestamptz(6)
  completed_at                            DateTime?               @db.Timestamptz(6)
  metadata                                Json?
  idempotency_key                         String?                 @db.VarChar
  no_notification_order                   Boolean?
  cart                                    cart?                   @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5bd11d0e2a9628128e2c26fd0a6")
  order_draft_order_order_idToorder       order?                  @relation("draft_order_order_idToorder", fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_8f6dd6c49202f1466ebf21e77da")
  order_order_draft_order_idTodraft_order order?                  @relation("order_draft_order_idTodraft_order")

  @@index([cart_id], map: "IDX_5bd11d0e2a9628128e2c26fd0a")
  @@index([order_id], map: "IDX_8f6dd6c49202f1466ebf21e77d")
  @@index([display_id], map: "IDX_e87cc617a22ef4edce5601edab")
}

model fulfillment {
  id                   String                @id(map: "PK_50c102da132afffae660585981f") @db.VarChar
  swap_id              String?               @db.VarChar
  order_id             String?               @db.VarChar
  tracking_numbers     Json                  @default("[]")
  data                 Json
  shipped_at           DateTime?             @db.Timestamptz(6)
  canceled_at          DateTime?             @db.Timestamptz(6)
  created_at           DateTime              @default(now()) @db.Timestamptz(6)
  updated_at           DateTime              @default(now()) @db.Timestamptz(6)
  metadata             Json?
  idempotency_key      String?               @db.VarChar
  provider_id          String?               @db.VarChar
  claim_order_id       String?               @db.VarChar
  no_notification      Boolean?
  location_id          String?               @db.VarChar
  swap                 swap?                 @relation(fields: [swap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a52e234f729db789cf473297a5c")
  fulfillment_provider fulfillment_provider? @relation(fields: [provider_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_beb35a6de60a6c4f91d5ae57e44")
  claim_order          claim_order?          @relation(fields: [claim_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d73e55964e0ff2db8f03807d52e")
  order                order?                @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_f129acc85e346a10eed12b86fca")
  fulfillment_item     fulfillment_item[]
  tracking_link        tracking_link[]

  @@index([swap_id], map: "IDX_a52e234f729db789cf473297a5")
  @@index([provider_id], map: "IDX_beb35a6de60a6c4f91d5ae57e4")
  @@index([claim_order_id], map: "IDX_d73e55964e0ff2db8f03807d52")
  @@index([order_id], map: "IDX_f129acc85e346a10eed12b86fc")
}

model fulfillment_item {
  fulfillment_id String      @db.VarChar
  item_id        String      @db.VarChar
  quantity       Int
  fulfillment    fulfillment @relation(fields: [fulfillment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a033f83cc6bd7701a5687ab4b38")
  line_item      line_item   @relation(fields: [item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e13ff60e74206b747a1896212d1")

  @@id([fulfillment_id, item_id], map: "PK_bc3e8a388de75db146a249922e0")
}

model fulfillment_provider {
  id                           String                         @id(map: "PK_beb35a6de60a6c4f91d5ae57e44") @db.VarChar
  is_installed                 Boolean                        @default(true)
  fulfillment                  fulfillment[]
  region_fulfillment_providers region_fulfillment_providers[]
  shipping_option              shipping_option[]
}

model gift_card {
  id                    String                  @id(map: "PK_af4e338d2d41035042843ad641f") @db.VarChar
  code                  String                  @unique(map: "IDX_53cb5605fa42e82b4d47b47bda") @db.VarChar
  value                 Int
  balance               Int
  region_id             String                  @db.VarChar
  order_id              String?                 @db.VarChar
  is_disabled           Boolean                 @default(false)
  ends_at               DateTime?               @db.Timestamptz(6)
  created_at            DateTime                @default(now()) @db.Timestamptz(6)
  updated_at            DateTime                @default(now()) @db.Timestamptz(6)
  deleted_at            DateTime?               @db.Timestamptz(6)
  metadata              Json?
  tax_rate              Float?                  @db.Real
  cart_gift_cards       cart_gift_cards[]
  region                region                  @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b6bcf8c3903097b84e85154eed3")
  order                 order?                  @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_dfc1f02bb0552e79076aa58dbb0")
  gift_card_transaction gift_card_transaction[]
  order_gift_cards      order_gift_cards[]

  @@index([region_id], map: "IDX_b6bcf8c3903097b84e85154eed")
  @@index([order_id], map: "IDX_dfc1f02bb0552e79076aa58dbb")
}

model gift_card_transaction {
  id           String    @id(map: "PK_cfb5b4ba5447a507aef87d73fe7") @db.VarChar
  gift_card_id String    @db.VarChar
  order_id     String    @db.VarChar
  amount       Int
  created_at   DateTime  @default(now()) @db.Timestamptz(6)
  is_taxable   Boolean?
  tax_rate     Float?    @db.Real
  gift_card    gift_card @relation(fields: [gift_card_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_3ff5597f1d7e02bba41541846f4")
  order        order     @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d7d441b81012f87d4265fa57d24")

  @@unique([gift_card_id, order_id], map: "gcuniq")
  @@index([order_id], map: "IDX_d7d441b81012f87d4265fa57d2")
}

model idempotency_key {
  id              String    @id(map: "PK_213f125e14469be304f9ff1d452") @db.VarChar
  idempotency_key String    @unique(map: "IDX_a421bf4588d0004a9b0c0fe84f") @db.VarChar
  created_at      DateTime  @default(now()) @db.Timestamptz(6)
  locked_at       DateTime? @db.Timestamptz(6)
  request_method  String?   @db.VarChar
  request_params  Json?
  request_path    String?   @db.VarChar
  response_code   Int?
  response_body   Json?
  recovery_point  String    @default("started") @db.VarChar
}

model image {
  id             String           @id(map: "PK_d6db1ab4ee9ad9dbe86c64e4cc3") @db.VarChar
  url            String           @db.VarChar
  created_at     DateTime         @default(now()) @db.Timestamptz(6)
  updated_at     DateTime         @default(now()) @db.Timestamptz(6)
  deleted_at     DateTime?        @db.Timestamptz(6)
  metadata       Json?
  product_images product_images[]
}

model invite {
  id         String            @id(map: "PK_fc9fa190e5a3c5d80604a4f63e1") @db.VarChar
  user_email String            @unique(map: "IDX_6b0ce4b4bcfd24491510bf19d1") @db.VarChar
  role       invite_role_enum? @default(member)
  accepted   Boolean           @default(false)
  created_at DateTime          @default(now()) @db.Timestamptz(6)
  updated_at DateTime          @default(now()) @db.Timestamptz(6)
  deleted_at DateTime?         @db.Timestamptz(6)
  metadata   Json?
  token      String            @db.VarChar
  expires_at DateTime          @default(now()) @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model line_item {
  id                                                                   String                 @id(map: "PK_cce6b13e67fa506d1d9618ac68b") @db.VarChar
  cart_id                                                              String?                @db.VarChar
  order_id                                                             String?                @db.VarChar
  swap_id                                                              String?                @db.VarChar
  title                                                                String                 @db.VarChar
  description                                                          String?                @db.VarChar
  thumbnail                                                            String?                @db.VarChar
  is_giftcard                                                          Boolean                @default(false)
  should_merge                                                         Boolean                @default(true)
  allow_discounts                                                      Boolean                @default(true)
  has_shipping                                                         Boolean?
  unit_price                                                           Int
  variant_id                                                           String?                @db.VarChar
  quantity                                                             Int
  fulfilled_quantity                                                   Int?
  returned_quantity                                                    Int?
  shipped_quantity                                                     Int?
  created_at                                                           DateTime               @default(now()) @db.Timestamptz(6)
  updated_at                                                           DateTime               @default(now()) @db.Timestamptz(6)
  metadata                                                             Json?
  claim_order_id                                                       String?                @db.VarChar
  is_return                                                            Boolean                @default(false)
  original_item_id                                                     String?                @db.VarChar
  order_edit_id                                                        String?                @db.VarChar
  claim_item                                                           claim_item[]
  fulfillment_item                                                     fulfillment_item[]
  claim_order                                                          claim_order?           @relation(fields: [claim_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_118e3c48f09a7728f41023c94ef")
  cart                                                                 cart?                  @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_27283ee631862266d0f1c680646")
  swap                                                                 swap?                  @relation(fields: [swap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_3fa354d8d1233ff81097b2fcb6b")
  order                                                                order?                 @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_43a2b24495fe1d9fc2a9c835bc7")
  product_variant                                                      product_variant?       @relation(fields: [variant_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5371cbaa3be5200f373d24e3d5b")
  order_edit                                                           order_edit?            @relation(fields: [order_edit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "line_item_order_edit_fk")
  line_item                                                            line_item?             @relation("line_itemToline_item", fields: [original_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "line_item_original_item_fk")
  other_line_item                                                      line_item[]            @relation("line_itemToline_item")
  line_item_adjustment                                                 line_item_adjustment[]
  line_item_tax_line                                                   line_item_tax_line[]
  order_item_change_order_item_change_line_item_idToline_item          order_item_change?     @relation("order_item_change_line_item_idToline_item")
  order_item_change_order_item_change_original_line_item_idToline_item order_item_change[]    @relation("order_item_change_original_line_item_idToline_item")
  return_item                                                          return_item[]

  @@index([claim_order_id], map: "IDX_118e3c48f09a7728f41023c94e")
  @@index([cart_id], map: "IDX_27283ee631862266d0f1c68064")
  @@index([swap_id], map: "IDX_3fa354d8d1233ff81097b2fcb6")
  @@index([order_id], map: "IDX_43a2b24495fe1d9fc2a9c835bc")
  @@index([variant_id], map: "IDX_5371cbaa3be5200f373d24e3d5")
}

model line_item_adjustment {
  id          String    @id(map: "PK_2b1360103753df2dc8257c2c8c3") @db.VarChar
  item_id     String    @db.VarChar
  description String    @db.VarChar
  discount_id String?   @db.VarChar
  amount      Decimal   @db.Decimal
  metadata    Json?
  discount    discount? @relation(fields: [discount_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_2f41b20a71f30e60471d7e3769c")
  line_item   line_item @relation(fields: [item_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_be9aea2ccf3567007b6227da4d2")

  @@index([discount_id], map: "IDX_2f41b20a71f30e60471d7e3769")
  @@index([item_id], map: "IDX_be9aea2ccf3567007b6227da4d")
}

model line_item_tax_line {
  id         String    @id(map: "PK_4a0f4322fcd5ce4af85727f89a8") @db.VarChar
  rate       Float     @db.Real
  name       String    @db.VarChar
  code       String?   @db.VarChar
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  updated_at DateTime  @default(now()) @db.Timestamptz(6)
  metadata   Json?
  item_id    String    @db.VarChar
  line_item  line_item @relation(fields: [item_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_5077fa54b0d037e984385dfe8ad")

  @@unique([item_id, code], map: "UQ_3c2af51043ed7243e7d9775a2ad")
  @@index([item_id], map: "IDX_5077fa54b0d037e984385dfe8a")
}

model marketing_campaigns_anuncio {
  id          BigInt @id @default(autoincrement())
  descripcion String
}

model marketing_campaigns_campana {
  id                                    BigInt                                  @id @default(autoincrement())
  nombre                                String                                  @db.VarChar(100)
  color                                 String                                  @db.VarChar(7)
  descripcion                           String
  presupuesto                           Decimal                                 @db.Decimal(10, 2)
  fecha_inicio                          DateTime                                @db.Date
  fecha_fin                             DateTime                                @db.Date
  estado                                String                                  @db.VarChar(1)
  marketing_campaigns_campana_segmentos marketing_campaigns_campana_segmentos[]
  marketing_campaigns_campanausuario    marketing_campaigns_campanausuario[]
  marketing_campaigns_postcampana       marketing_campaigns_postcampana[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model marketing_campaigns_campana_segmentos {
  id                          BigInt                      @id @default(autoincrement())
  campana_id                  BigInt
  segmento_id                 BigInt
  marketing_campaigns_campana marketing_campaigns_campana @relation(fields: [campana_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "marketing_campaigns__campana_id_07042a74_fk_marketing")
  vi_segmento                 vi_segmento                 @relation(fields: [segmento_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "marketing_campaigns__segmento_id_dd55ff68_fk_vi_segmen")

  @@unique([campana_id, segmento_id], map: "marketing_campaigns_camp_campana_id_segmento_id_c8e7f786_uniq")
  @@index([campana_id], map: "marketing_campaigns_campana_segmentos_campana_id_07042a74")
  @@index([segmento_id], map: "marketing_campaigns_campana_segmentos_segmento_id_dd55ff68")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model marketing_campaigns_campanausuario {
  id                          BigInt                      @id @default(autoincrement())
  campana_id                  BigInt
  usuario_id                  String?                     @db.VarChar(50)
  marketing_campaigns_campana marketing_campaigns_campana @relation(fields: [campana_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "marketing_campaigns__campana_id_8ecf6f61_fk_marketing")
  vi_usuario                  vi_usuario?                 @relation(fields: [usuario_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "marketing_campaigns__usuario_id_6bc44e57_fk_vi_usuari")

  @@index([campana_id], map: "marketing_campaigns_campanausuario_campana_id_8ecf6f61")
  @@index([usuario_id], map: "marketing_campaigns_campanausuario_usuario_id_6bc44e57")
  @@index([usuario_id], map: "marketing_campaigns_campanausuario_usuario_id_6bc44e57_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model marketing_campaigns_postcampana {
  id                          BigInt                      @id @default(autoincrement())
  campana_id                  BigInt
  post_id                     BigInt
  marketing_campaigns_campana marketing_campaigns_campana @relation(fields: [campana_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "marketing_campaigns__campana_id_41dc85d1_fk_marketing")
  vi_post                     vi_post                     @relation(fields: [post_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "marketing_campaigns_postcampana_post_id_5e650fbd_fk_vi_post_id")

  @@index([campana_id], map: "marketing_campaigns_postcampana_campana_id_41dc85d1")
  @@index([post_id], map: "marketing_campaigns_postcampana_post_id_5e650fbd")
}

model migrations {
  id        Int    @id(map: "PK_8c82d7f526340ab734260ea46be") @default(autoincrement())
  timestamp BigInt
  name      String @db.VarChar
}

model money_amount {
  id            String      @id(map: "PK_022e49a7e21a8dfb820f788778a") @db.VarChar
  currency_code String      @db.VarChar
  amount        Int
  region_id     String?     @db.VarChar
  created_at    DateTime    @default(now()) @db.Timestamptz(6)
  updated_at    DateTime    @default(now()) @db.Timestamptz(6)
  deleted_at    DateTime?   @db.Timestamptz(6)
  min_quantity  Int?
  max_quantity  Int?
  price_list_id String?     @db.VarChar
  region        region?     @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b433e27b7a83e6d12ab26b15b03")
  currency      currency    @relation(fields: [currency_code], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_e15811f81339e4bd8c440aebe1c")
  price_list    price_list? @relation(fields: [price_list_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_f249976b079375499662eb80c40")

  @@index([currency_code], map: "IDX_money_amount_currency_code")
  @@index([region_id], map: "idx_money_amount_region_id")
}

model note {
  id            String    @id(map: "PK_96d0c172a4fba276b1bbed43058") @db.VarChar
  value         String    @db.VarChar
  resource_type String    @db.VarChar
  resource_id   String    @db.VarChar
  author_id     String?   @db.VarChar
  created_at    DateTime  @default(now()) @db.Timestamptz(6)
  updated_at    DateTime  @default(now()) @db.Timestamptz(6)
  deleted_at    DateTime? @db.Timestamptz(6)
  metadata      Json?

  @@index([resource_id], map: "IDX_3287f98befad26c3a7dab088cf")
  @@index([resource_type], map: "IDX_f74980b411cf94af523a72af7d")
}

model notification {
  id                    String                 @id(map: "PK_705b6c7cdf9b2c2ff7ac7872cb7") @db.VarChar
  event_name            String?                @db.VarChar
  resource_type         String                 @db.VarChar
  resource_id           String                 @db.VarChar
  customer_id           String?                @db.VarChar
  to                    String                 @db.VarChar
  data                  Json
  parent_id             String?                @db.VarChar
  provider_id           String?                @db.VarChar
  created_at            DateTime               @default(now()) @db.Timestamptz(6)
  updated_at            DateTime               @default(now()) @db.Timestamptz(6)
  notification_provider notification_provider? @relation(fields: [provider_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_0425c2423e2ce9fdfd5c23761d9")
  notification          notification?          @relation("notificationTonotification", fields: [parent_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_371db513192c083f48ba63c33be")
  other_notification    notification[]         @relation("notificationTonotification")
  customer              customer?              @relation(fields: [customer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b5df0f53a74b9d0c0a2b652c88d")

  @@index([customer_id], map: "IDX_b5df0f53a74b9d0c0a2b652c88")
  @@index([resource_type], map: "IDX_df1494d263740fcfb1d09a98fc")
  @@index([resource_id], map: "IDX_ea6a358d9ce41c16499aae55f9")
}

model notification_provider {
  id           String         @id(map: "PK_0425c2423e2ce9fdfd5c23761d9") @db.VarChar
  is_installed Boolean        @default(true)
  notification notification[]
}

model oauth {
  id               String  @id(map: "PK_a957b894e50eb16b969c0640a8d") @db.VarChar
  display_name     String  @db.VarChar
  application_name String  @unique(map: "IDX_c49c061b1a686843c5d673506f") @db.VarChar
  install_url      String? @db.VarChar
  uninstall_url    String? @db.VarChar
  data             Json?
}

model onboarding_state {
  id           String   @id(map: "PK_891b72628471aada55d7b8c9410") @db.VarChar
  created_at   DateTime @default(now()) @db.Timestamptz(6)
  updated_at   DateTime @default(now()) @db.Timestamptz(6)
  current_step String?  @db.VarChar
  is_complete  Boolean
  product_id   String?  @db.VarChar
}

model order {
  id                                            String                        @id(map: "PK_1031171c13130102495201e3e20") @db.VarChar
  status                                        order_status_enum             @default(pending)
  fulfillment_status                            order_fulfillment_status_enum @default(not_fulfilled)
  payment_status                                order_payment_status_enum     @default(not_paid)
  display_id                                    Int                           @default(autoincrement())
  cart_id                                       String?                       @unique(map: "REL_c99a206eb11ad45f6b7f04f2dc") @db.VarChar
  customer_id                                   String                        @db.VarChar
  email                                         String                        @db.VarChar
  billing_address_id                            String?                       @db.VarChar
  shipping_address_id                           String?                       @db.VarChar
  region_id                                     String                        @db.VarChar
  currency_code                                 String                        @db.VarChar
  tax_rate                                      Float?                        @db.Real
  canceled_at                                   DateTime?                     @db.Timestamptz(6)
  created_at                                    DateTime                      @default(now()) @db.Timestamptz(6)
  updated_at                                    DateTime                      @default(now()) @db.Timestamptz(6)
  metadata                                      Json?
  idempotency_key                               String?                       @db.VarChar
  draft_order_id                                String?                       @unique(map: "UQ_727b872f86c7378474a8fa46147") @db.VarChar
  no_notification                               Boolean?
  external_id                                   String?                       @db.VarChar
  sales_channel_id                              String?                       @db.VarChar
  claim_order                                   claim_order[]
  draft_order_draft_order_order_idToorder       draft_order?                  @relation("draft_order_order_idToorder")
  fulfillment                                   fulfillment[]
  gift_card                                     gift_card[]
  gift_card_transaction                         gift_card_transaction[]
  line_item                                     line_item[]
  address_order_shipping_address_idToaddress    address?                      @relation("order_shipping_address_idToaddress", fields: [shipping_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_19b0c6293443d1b464f604c3316")
  address_order_billing_address_idToaddress     address?                      @relation("order_billing_address_idToaddress", fields: [billing_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5568d3b9ce9f7abeeb37511ecf2")
  sales_channel                                 sales_channel?                @relation(fields: [sales_channel_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_6ff7e874f01b478c115fdd462eb")
  currency                                      currency                      @relation(fields: [currency_code], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_717a141f96b76d794d409f38129")
  draft_order_order_draft_order_idTodraft_order draft_order?                  @relation("order_draft_order_idTodraft_order", fields: [draft_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_727b872f86c7378474a8fa46147")
  cart                                          cart?                         @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_c99a206eb11ad45f6b7f04f2dcc")
  customer                                      customer                      @relation(fields: [customer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_cd7812c96209c5bdd48a6b858b0")
  region                                        region                        @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e1fcce2b18dbcdbe0a5ba9a68b8")
  order_discounts                               order_discounts[]
  order_edit                                    order_edit[]
  order_gift_cards                              order_gift_cards[]
  payment                                       payment[]
  refund                                        refund[]
  Renamedreturn                                 Renamedreturn[]
  shipping_method                               shipping_method[]
  swap                                          swap[]

  @@index([shipping_address_id], map: "IDX_19b0c6293443d1b464f604c331")
  @@index([billing_address_id], map: "IDX_5568d3b9ce9f7abeeb37511ecf")
  @@index([display_id], map: "IDX_579e01fb94f4f58db480857e05")
  @@index([cart_id], map: "IDX_c99a206eb11ad45f6b7f04f2dc")
  @@index([customer_id], map: "IDX_cd7812c96209c5bdd48a6b858b")
  @@index([region_id], map: "IDX_e1fcce2b18dbcdbe0a5ba9a68b")
  @@index([currency_code], map: "IDX_order_currency_code")
}

model order_discounts {
  order_id    String   @db.VarChar
  discount_id String   @db.VarChar
  discount    discount @relation(fields: [discount_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_0fc1ec4e3db9001ad60c19daf16")
  order       order    @relation(fields: [order_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_e7b488cebe333f449398769b2cc")

  @@id([order_id, discount_id], map: "PK_a7418714ffceebc125bf6d8fcfe")
  @@index([discount_id], map: "IDX_0fc1ec4e3db9001ad60c19daf1")
  @@index([order_id], map: "IDX_e7b488cebe333f449398769b2c")
}

model order_edit {
  id                    String              @id(map: "PK_58ab6acf2e84b4e827f5f846f7a") @db.VarChar
  created_at            DateTime            @default(now()) @db.Timestamptz(6)
  updated_at            DateTime            @default(now()) @db.Timestamptz(6)
  order_id              String              @db.VarChar
  internal_note         String?             @db.VarChar
  created_by            String              @db.VarChar
  requested_by          String?             @db.VarChar
  requested_at          DateTime?           @db.Timestamptz(6)
  confirmed_by          String?             @db.VarChar
  confirmed_at          DateTime?           @db.Timestamptz(6)
  declined_by           String?             @db.VarChar
  declined_reason       String?             @db.VarChar
  declined_at           DateTime?           @db.Timestamptz(6)
  canceled_by           String?             @db.VarChar
  canceled_at           DateTime?           @db.Timestamptz(6)
  payment_collection_id String?             @db.VarChar
  line_item             line_item[]
  order                 order               @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_1f3a251488a91510f57e1bf93cd")
  payment_collection    payment_collection? @relation(fields: [payment_collection_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_order_edit_payment_collection_id")
  order_item_change     order_item_change[]

  @@index([order_id], map: "IDX_order_edit_order_id")
  @@index([payment_collection_id], map: "IDX_order_edit_payment_collection_id")
}

model order_gift_cards {
  order_id     String    @db.VarChar
  gift_card_id String    @db.VarChar
  order        order     @relation(fields: [order_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_e62ff11e4730bb3adfead979ee2")
  gift_card    gift_card @relation(fields: [gift_card_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_f2bb9f71e95b315eb24b2b84cb3")

  @@id([order_id, gift_card_id], map: "PK_49a8ec66a6625d7c2e3526e05b4")
  @@index([order_id], map: "IDX_e62ff11e4730bb3adfead979ee")
  @@index([gift_card_id], map: "IDX_f2bb9f71e95b315eb24b2b84cb")
}

model order_item_change {
  id                                                           String                      @id(map: "PK_d6eb138f77ffdee83567b85af0c") @db.VarChar
  created_at                                                   DateTime                    @default(now()) @db.Timestamptz(6)
  updated_at                                                   DateTime                    @default(now()) @db.Timestamptz(6)
  deleted_at                                                   DateTime?                   @db.Timestamptz(6)
  type                                                         order_item_change_type_enum
  order_edit_id                                                String                      @db.VarChar
  original_line_item_id                                        String?                     @db.VarChar
  line_item_id                                                 String?                     @unique(map: "REL_5f9688929761f7df108b630e64") @db.VarChar
  order_edit                                                   order_edit                  @relation(fields: [order_edit_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_44feeebb258bf4cfa4cc4202281")
  line_item_order_item_change_line_item_idToline_item          line_item?                  @relation("order_item_change_line_item_idToline_item", fields: [line_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5f9688929761f7df108b630e64a")
  line_item_order_item_change_original_line_item_idToline_item line_item?                  @relation("order_item_change_original_line_item_idToline_item", fields: [original_line_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b4d53b8d03c9f5e7d4317e818d9")

  @@unique([order_edit_id, original_line_item_id], map: "UQ_5b7a99181e4db2ea821be0b6196")
  @@unique([order_edit_id, line_item_id], map: "UQ_da93cee3ca0dd50a5246268c2e9")
}

model payment {
  id                            String                        @id(map: "PK_fcaec7df5adf9cac408c686b2ab") @db.VarChar
  swap_id                       String?                       @unique(map: "REL_c17aff091441b7c25ec3d68d36") @db.VarChar
  cart_id                       String?                       @db.VarChar
  order_id                      String?                       @db.VarChar
  amount                        Int
  currency_code                 String                        @db.VarChar
  amount_refunded               Int                           @default(0)
  provider_id                   String                        @db.VarChar
  data                          Json
  captured_at                   DateTime?                     @db.Timestamptz(6)
  canceled_at                   DateTime?                     @db.Timestamptz(6)
  created_at                    DateTime                      @default(now()) @db.Timestamptz(6)
  updated_at                    DateTime                      @default(now()) @db.Timestamptz(6)
  metadata                      Json?
  idempotency_key               String?                       @db.VarChar
  cart_cart_payment_idTopayment cart?                         @relation("cart_payment_idTopayment")
  cart_payment_cart_idTocart    cart?                         @relation("payment_cart_idTocart", fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_4665f17abc1e81dd58330e58542")
  swap                          swap?                         @relation(fields: [swap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_c17aff091441b7c25ec3d68d36c")
  currency                      currency                      @relation(fields: [currency_code], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_f41553459a4b1491c9893ebc921")
  order                         order?                        @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_f5221735ace059250daac9d9803")
  payment_collection_payments   payment_collection_payments[]
  refund                        refund[]

  @@index([cart_id], map: "IDX_4665f17abc1e81dd58330e5854")
  @@index([swap_id], map: "IDX_c17aff091441b7c25ec3d68d36")
  @@index([provider_id], map: "IDX_ea94f42b6c88e9191c3649d752")
  @@index([order_id], map: "IDX_f5221735ace059250daac9d980")
  @@index([currency_code], map: "IDX_payment_currency_code")
}

model payment_collection {
  id                          String                         @id(map: "PK_payment_collection_id") @db.VarChar
  created_at                  DateTime                       @default(now()) @db.Timestamptz(6)
  updated_at                  DateTime                       @default(now()) @db.Timestamptz(6)
  deleted_at                  DateTime?                      @db.Timestamptz(6)
  type                        PAYMENT_COLLECTION_TYPE_ENUM
  status                      PAYMENT_COLLECTION_STATUS_ENUM
  description                 String?
  amount                      Int
  authorized_amount           Int?
  region_id                   String                         @db.VarChar
  currency_code               String                         @db.VarChar
  metadata                    Json?
  created_by                  String                         @db.VarChar
  order_edit                  order_edit[]
  region                      region                         @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_payment_collection_region_id")
  payment_collection_payments payment_collection_payments[]
  payment_collection_sessions payment_collection_sessions[]
}

model payment_collection_payments {
  payment_collection_id String             @db.VarChar
  payment_id            String             @db.VarChar
  payment_collection    payment_collection @relation(fields: [payment_collection_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_payment_collection_payments_payment_collection_id")
  payment               payment            @relation(fields: [payment_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_payment_collection_payments_payment_id")

  @@id([payment_collection_id, payment_id], map: "PK_payment_collection_payments")
  @@index([payment_collection_id], map: "IDX_payment_collection_payments_payment_collection_id")
  @@index([payment_id], map: "IDX_payment_collection_payments_payment_id")
}

model payment_collection_sessions {
  payment_collection_id String             @db.VarChar
  payment_session_id    String             @db.VarChar
  payment_collection    payment_collection @relation(fields: [payment_collection_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_payment_collection_sessions_payment_collection_id")
  payment_session       payment_session    @relation(fields: [payment_session_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_payment_collection_sessions_payment_session_id")

  @@id([payment_collection_id, payment_session_id], map: "PK_payment_collection_sessions")
  @@index([payment_collection_id], map: "IDX_payment_collection_sessions_payment_collection_id")
  @@index([payment_session_id], map: "IDX_payment_collection_sessions_payment_session_id")
}

model payment_provider {
  id                       String                     @id(map: "PK_ea94f42b6c88e9191c3649d7522") @db.VarChar
  is_installed             Boolean                    @default(true)
  region_payment_providers region_payment_providers[]
}

model payment_session {
  id                          String                        @id(map: "PK_a1a91b20f7f3b1e5afb5485cbcd") @db.VarChar
  cart_id                     String?                       @db.VarChar
  provider_id                 String                        @db.VarChar
  is_selected                 Boolean?
  status                      payment_session_status_enum
  data                        Json
  created_at                  DateTime                      @default(now()) @db.Timestamptz(6)
  updated_at                  DateTime                      @default(now()) @db.Timestamptz(6)
  idempotency_key             String?                       @db.VarChar
  payment_authorized_at       DateTime?                     @db.Timestamptz(6)
  amount                      Int?
  is_initiated                Boolean                       @default(false)
  payment_collection_sessions payment_collection_sessions[]
  cart                        cart?                         @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d25ba0787e1510ddc5d442ebcfa")

  @@unique([cart_id, is_selected], map: "OneSelected")
  @@index([provider_id], map: "IDX_d18ad72f2fb7c87f075825b6f8")
  @@index([cart_id], map: "IDX_d25ba0787e1510ddc5d442ebcf")
}

model price_list {
  id                         String                       @id(map: "PK_52ea7826468b1c889cb2c28df03") @db.VarChar
  name                       String                       @db.VarChar
  description                String                       @db.VarChar
  type                       price_list_type_enum         @default(sale)
  status                     price_list_status_enum       @default(draft)
  starts_at                  DateTime?                    @db.Timestamptz(6)
  ends_at                    DateTime?                    @db.Timestamptz(6)
  created_at                 DateTime                     @default(now()) @db.Timestamptz(6)
  updated_at                 DateTime                     @default(now()) @db.Timestamptz(6)
  deleted_at                 DateTime?                    @db.Timestamptz(6)
  money_amount               money_amount[]
  price_list_customer_groups price_list_customer_groups[]
}

model price_list_customer_groups {
  price_list_id     String         @db.VarChar
  customer_group_id String         @db.VarChar
  price_list        price_list     @relation(fields: [price_list_id], references: [id], onDelete: Cascade, map: "FK_52875734e9dd69064f0041f4d92")
  customer_group    customer_group @relation(fields: [customer_group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_c5516f550433c9b1c2630d787a7")

  @@id([price_list_id, customer_group_id], map: "PK_1afcbe15cc8782dc80c05707df9")
  @@index([price_list_id], map: "IDX_52875734e9dd69064f0041f4d9")
  @@index([customer_group_id], map: "IDX_c5516f550433c9b1c2630d787a")
}

model product {
  id                         String                       @id(map: "PK_bebc9158e480b949565b4dc7a82") @db.VarChar
  title                      String                       @db.VarChar
  subtitle                   String?                      @db.VarChar
  description                String?                      @db.VarChar
  handle                     String?                      @db.VarChar
  is_giftcard                Boolean                      @default(false)
  thumbnail                  String?                      @db.VarChar
  weight                     Int?
  length                     Int?
  height                     Int?
  width                      Int?
  hs_code                    String?                      @db.VarChar
  origin_country             String?                      @db.VarChar
  mid_code                   String?                      @db.VarChar
  material                   String?                      @db.VarChar
  created_at                 DateTime                     @default(now()) @db.Timestamptz(6)
  updated_at                 DateTime                     @default(now()) @db.Timestamptz(6)
  deleted_at                 DateTime?                    @db.Timestamptz(6)
  metadata                   Json?
  collection_id              String?                      @db.VarChar
  type_id                    String?                      @db.VarChar
  discountable               Boolean                      @default(true)
  status                     product_status_enum          @default(draft)
  external_id                String?                      @db.VarChar
  discount_condition_product discount_condition_product[]
  discount_rule_products     discount_rule_products[]
  product_collection         product_collection?          @relation(fields: [collection_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_49d419fc77d3aed46c835c558ac")
  product_type               product_type?                @relation(fields: [type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e0843930fbb8854fe36ca39dae1")
  product_category_product   product_category_product[]
  product_images             product_images[]
  product_option             product_option[]
  product_tags               product_tags[]
  product_tax_rate           product_tax_rate[]
  product_variant            product_variant[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model product_category {
  id                       String                     @id(map: "PK_qgguwbn1cwstxk93efl0px9oqwt") @db.VarChar
  name                     String
  handle                   String                     @unique(map: "IDX_product_category_handle")
  parent_category_id       String?                    @db.VarChar
  mpath                    String?
  is_active                Boolean?                   @default(false)
  is_internal              Boolean?                   @default(false)
  created_at               DateTime                   @default(now()) @db.Timestamptz(6)
  updated_at               DateTime                   @default(now()) @db.Timestamptz(6)
  rank                     Int                        @default(0)
  description              String                     @default("")
  metadata                 Json?
  product_category_product product_category_product[]

  @@unique([parent_category_id, rank], map: "UniqProductCategoryParentIdRank")
  @@index([mpath], map: "IDX_product_category_path")
}

model product_category_product {
  product_category_id String           @db.VarChar
  product_id          String           @db.VarChar
  product_category    product_category @relation(fields: [product_category_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_product_category_id")
  product             product          @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_product_id")

  @@unique([product_category_id, product_id], map: "IDX_upcp_product_id_product_category_id")
  @@index([product_category_id], map: "IDX_pcp_product_category_id")
  @@index([product_id], map: "IDX_pcp_product_id")
}

model product_collection {
  id                                    String                                  @id(map: "PK_49d419fc77d3aed46c835c558ac") @db.VarChar
  title                                 String                                  @db.VarChar
  handle                                String?                                 @db.VarChar
  created_at                            DateTime                                @default(now()) @db.Timestamptz(6)
  updated_at                            DateTime                                @default(now()) @db.Timestamptz(6)
  deleted_at                            DateTime?                               @db.Timestamptz(6)
  metadata                              Json?
  discount_condition_product_collection discount_condition_product_collection[]
  product                               product[]
}

model product_images {
  product_id String  @db.VarChar
  image_id   String  @db.VarChar
  image      image   @relation(fields: [image_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_2212515ba306c79f42c46a99db7")
  product    product @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_4f166bb8c2bfcef2498d97b4068")

  @@id([product_id, image_id], map: "PK_10de97980da2e939c4c0e8423f2")
  @@index([image_id], map: "IDX_2212515ba306c79f42c46a99db")
  @@index([product_id], map: "IDX_4f166bb8c2bfcef2498d97b406")
}

model product_option {
  id                   String                 @id(map: "PK_4cf3c467e9bc764bdd32c4cd938") @db.VarChar
  title                String                 @db.VarChar
  created_at           DateTime               @default(now()) @db.Timestamptz(6)
  updated_at           DateTime               @default(now()) @db.Timestamptz(6)
  deleted_at           DateTime?              @db.Timestamptz(6)
  metadata             Json?
  product_id           String?                @db.VarChar
  product              product?               @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_e634fca34f6b594b87fdbee95f6")
  product_option_value product_option_value[]
}

model product_option_value {
  id              String          @id(map: "PK_2ab71ed3b21be5800905c621535") @db.VarChar
  value           String          @db.VarChar
  option_id       String          @db.VarChar
  variant_id      String          @db.VarChar
  created_at      DateTime        @default(now()) @db.Timestamptz(6)
  updated_at      DateTime        @default(now()) @db.Timestamptz(6)
  deleted_at      DateTime?       @db.Timestamptz(6)
  metadata        Json?
  product_variant product_variant @relation(fields: [variant_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_7234ed737ff4eb1b6ae6e6d7b01")
  product_option  product_option  @relation(fields: [option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_cdf4388f294b30a25c627d69fe9")

  @@index([option_id], map: "idx_product_option_value_option_id")
  @@index([variant_id], map: "idx_product_option_value_variant_id")
}

model product_sales_channel {
  product_id       String        @db.VarChar
  sales_channel_id String        @db.VarChar
  sales_channel    sales_channel @relation(fields: [sales_channel_id], references: [id], onDelete: Cascade, map: "FK_37341bad297fe5cca91f921032b")

  @@id([product_id, sales_channel_id], map: "PK_fd29b6a8bd641052628dee19583")
  @@index([sales_channel_id], map: "IDX_37341bad297fe5cca91f921032")
  @@index([product_id], map: "IDX_5a4d5e1e60f97633547821ec8d")
}

model product_shipping_profile {
  profile_id String
  product_id String

  @@unique([profile_id, product_id], map: "idx_product_shipping_profile_profile_id_product_id_unique")
  @@index([product_id], map: "idx_product_shipping_profile_product_id")
  @@index([profile_id], map: "idx_product_shipping_profile_profile_id")
}

model product_tag {
  id                             String                           @id(map: "PK_1439455c6528caa94fcc8564fda") @db.VarChar
  value                          String                           @db.VarChar
  created_at                     DateTime                         @default(now()) @db.Timestamptz(6)
  updated_at                     DateTime                         @default(now()) @db.Timestamptz(6)
  deleted_at                     DateTime?                        @db.Timestamptz(6)
  metadata                       Json?
  discount_condition_product_tag discount_condition_product_tag[]
  product_tags                   product_tags[]
}

model product_tags {
  product_id     String      @db.VarChar
  product_tag_id String      @db.VarChar
  product_tag    product_tag @relation(fields: [product_tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_21683a063fe82dafdf681ecc9c4")
  product        product     @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_5b0c6fc53c574299ecc7f9ee22e")

  @@id([product_id, product_tag_id], map: "PK_1cf5c9537e7198df494b71b993f")
  @@index([product_tag_id], map: "IDX_21683a063fe82dafdf681ecc9c")
  @@index([product_id], map: "IDX_5b0c6fc53c574299ecc7f9ee22")
}

model product_tax_rate {
  product_id String   @db.VarChar
  rate_id    String   @db.VarChar
  created_at DateTime @default(now()) @db.Timestamptz(6)
  updated_at DateTime @default(now()) @db.Timestamptz(6)
  metadata   Json?
  product    product  @relation(fields: [product_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_1d04aebeabb6a89f87e536a124d")
  tax_rate   tax_rate @relation(fields: [rate_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_2484cf14c437a04586b07e7dddb")

  @@id([product_id, rate_id], map: "PK_326257ce468df46cd5c8c5922e9")
  @@index([product_id], map: "IDX_1d04aebeabb6a89f87e536a124")
  @@index([rate_id], map: "IDX_2484cf14c437a04586b07e7ddd")
}

model product_type {
  id                              String                            @id(map: "PK_e0843930fbb8854fe36ca39dae1") @db.VarChar
  value                           String                            @db.VarChar
  created_at                      DateTime                          @default(now()) @db.Timestamptz(6)
  updated_at                      DateTime                          @default(now()) @db.Timestamptz(6)
  deleted_at                      DateTime?                         @db.Timestamptz(6)
  metadata                        Json?
  discount_condition_product_type discount_condition_product_type[]
  product                         product[]
  product_type_tax_rate           product_type_tax_rate[]
}

model product_type_tax_rate {
  product_type_id String       @db.VarChar
  rate_id         String       @db.VarChar
  created_at      DateTime     @default(now()) @db.Timestamptz(6)
  updated_at      DateTime     @default(now()) @db.Timestamptz(6)
  metadata        Json?
  product_type    product_type @relation(fields: [product_type_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_25a3138bb236f63d9bb6c8ff111")
  tax_rate        tax_rate     @relation(fields: [rate_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_ece65a774192b34253abc4cd672")

  @@id([product_type_id, rate_id], map: "PK_ddc9242de1d99bc7674969289f0")
  @@index([product_type_id], map: "IDX_25a3138bb236f63d9bb6c8ff11")
  @@index([rate_id], map: "IDX_ece65a774192b34253abc4cd67")
}

model product_variant {
  id                   String                 @id(map: "PK_1ab69c9935c61f7c70791ae0a9f") @db.VarChar
  title                String                 @db.VarChar
  product_id           String                 @db.VarChar
  sku                  String?                @db.VarChar
  barcode              String?                @db.VarChar
  ean                  String?                @db.VarChar
  upc                  String?                @db.VarChar
  inventory_quantity   Int
  allow_backorder      Boolean                @default(false)
  manage_inventory     Boolean                @default(true)
  hs_code              String?                @db.VarChar
  origin_country       String?                @db.VarChar
  mid_code             String?                @db.VarChar
  material             String?                @db.VarChar
  weight               Int?
  length               Int?
  height               Int?
  width                Int?
  created_at           DateTime               @default(now()) @db.Timestamptz(6)
  updated_at           DateTime               @default(now()) @db.Timestamptz(6)
  deleted_at           DateTime?              @db.Timestamptz(6)
  metadata             Json?
  variant_rank         Int?                   @default(0)
  claim_item           claim_item[]
  line_item            line_item[]
  product_option_value product_option_value[]
  product              product                @relation(fields: [product_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_ca67dd080aac5ecf99609960cd2")

  @@index([product_id], map: "IDX_ca67dd080aac5ecf99609960cd")
}

model product_variant_inventory_item {
  id                String    @id(map: "PK_9a1188b8d36f4d198303b4f7efa") @db.VarChar
  created_at        DateTime  @default(now()) @db.Timestamptz(6)
  updated_at        DateTime  @default(now()) @db.Timestamptz(6)
  inventory_item_id String
  variant_id        String
  required_quantity Int       @default(1)
  deleted_at        DateTime? @db.Timestamptz(6)

  @@unique([variant_id, inventory_item_id], map: "UQ_c9be7c1b11a1a729eb51d1b6bca")
}

model product_variant_money_amount {
  id              String    @id(map: "PK_product_variant_money_amount") @db.VarChar
  money_amount_id String    @unique(map: "idx_product_variant_money_amount_money_amount_id_unique")
  variant_id      String
  deleted_at      DateTime? @db.Timestamptz(6)
  created_at      DateTime  @default(now()) @db.Timestamptz(6)
  updated_at      DateTime  @default(now()) @db.Timestamptz(6)

  @@index([variant_id], map: "idx_product_variant_money_amount_variant_id")
}

model producto {
  id                     String    @id(map: "PK_5be023b11909fe103e24c740c7d") @db.VarChar
  created_at             DateTime  @default(now()) @db.Timestamptz(6)
  updated_at             DateTime  @default(now()) @db.Timestamptz(6)
  deleted_at             DateTime? @db.Timestamptz(6)
  codigo                 String    @unique(map: "UQ_4ecaa777d3efc10b5a6327cfe42") @db.VarChar
  nombre                 String    @db.VarChar
  precioA                Decimal   @db.Decimal(10, 2)
  precioB                Decimal   @db.Decimal(10, 2)
  precioC                Decimal   @db.Decimal(10, 2)
  urlImagen              String    @db.VarChar
  cantMinPed             Int
  cantMaxPed             Int
  descripcion            String?
  informacionNutricional String?
  razonEliminacion       String?
  estado                 Boolean   @default(true)
  usuarioCreacion        String    @db.VarChar
  usuarioActualizacion   String    @db.VarChar
  seVendeEcommerce       Boolean   @default(false)
}

model publishable_api_key {
  id         String    @id(map: "PK_9e613278673a87de92c606b4494") @db.VarChar
  created_at DateTime  @default(now()) @db.Timestamptz(6)
  updated_at DateTime  @default(now()) @db.Timestamptz(6)
  created_by String?   @db.VarChar
  revoked_by String?   @db.VarChar
  revoked_at DateTime? @db.Timestamptz(6)
  title      String    @db.VarChar
}

model publishable_api_key_sales_channel {
  sales_channel_id   String    @db.VarChar
  publishable_key_id String    @db.VarChar
  id                 String
  created_at         DateTime  @default(now()) @db.Timestamptz(6)
  updated_at         DateTime  @default(now()) @db.Timestamptz(6)
  deleted_at         DateTime? @db.Timestamptz(6)

  @@id([sales_channel_id, publishable_key_id], map: "PK_68eaeb14bdac8954460054c567c")
  @@index([id], map: "IDX_id_publishable_api_key_sales_channel")
}

model refund {
  id              String             @id(map: "PK_f1cefa2e60d99b206c46c1116e5") @db.VarChar
  order_id        String?            @db.VarChar
  amount          Int
  note            String?            @db.VarChar
  reason          refund_reason_enum
  created_at      DateTime           @default(now()) @db.Timestamptz(6)
  updated_at      DateTime           @default(now()) @db.Timestamptz(6)
  metadata        Json?
  idempotency_key String?            @db.VarChar
  payment_id      String?            @db.VarChar
  order           order?             @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_eec9d9af4ca098e19ea6b499eaa")
  payment         payment?           @relation(fields: [payment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_refund_payment_id")

  @@index([order_id], map: "IDX_eec9d9af4ca098e19ea6b499ea")
  @@index([payment_id], map: "IDX_refund_payment_id")
}

model region {
  id                           String                         @id(map: "PK_5f48ffc3af96bc486f5f3f3a6da") @db.VarChar
  name                         String                         @db.VarChar
  currency_code                String                         @db.VarChar
  tax_code                     String?                        @db.VarChar
  created_at                   DateTime                       @default(now()) @db.Timestamptz(6)
  updated_at                   DateTime                       @default(now()) @db.Timestamptz(6)
  deleted_at                   DateTime?                      @db.Timestamptz(6)
  metadata                     Json?
  gift_cards_taxable           Boolean                        @default(true)
  automatic_taxes              Boolean                        @default(true)
  tax_provider_id              String?                        @db.VarChar
  cart                         cart[]
  country                      country[]
  discount_regions             discount_regions[]
  gift_card                    gift_card[]
  money_amount                 money_amount[]
  order                        order[]
  payment_collection           payment_collection[]
  currency                     currency                       @relation(fields: [currency_code], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_3bdd5896ec93be2f1c62a3309a5")
  tax_provider                 tax_provider?                  @relation(fields: [tax_provider_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_91f88052197680f9790272aaf5b")
  region_fulfillment_providers region_fulfillment_providers[]
  region_payment_providers     region_payment_providers[]
  shipping_option              shipping_option[]
  tax_rate                     tax_rate[]

  @@index([currency_code], map: "IDX_region_currency_code")
}

model region_fulfillment_providers {
  region_id            String               @db.VarChar
  provider_id          String               @db.VarChar
  fulfillment_provider fulfillment_provider @relation(fields: [provider_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_37f361c38a18d12a3fa3158d0cf")
  region               region               @relation(fields: [region_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_c556e14eff4d6f03db593df955e")

  @@id([region_id, provider_id], map: "PK_5b7d928a1fb50d6803868cfab3a")
  @@index([provider_id], map: "IDX_37f361c38a18d12a3fa3158d0c")
  @@index([region_id], map: "IDX_c556e14eff4d6f03db593df955")
}

model region_payment_providers {
  region_id        String           @db.VarChar
  provider_id      String           @db.VarChar
  payment_provider payment_provider @relation(fields: [provider_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_3a6947180aeec283cd92c59ebb0")
  region           region           @relation(fields: [region_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_8aaa78ba90d3802edac317df869")

  @@id([region_id, provider_id], map: "PK_9fa1e69914d3dd752de6b1da407")
  @@index([provider_id], map: "IDX_3a6947180aeec283cd92c59ebb")
  @@index([region_id], map: "IDX_8aaa78ba90d3802edac317df86")
}

/// This model has been renamed to 'Renamedreturn' during introspection, because the original name 'return' is reserved.
model Renamedreturn {
  id              String             @id(map: "PK_c8ad68d13e76d75d803b5aeebc4") @db.VarChar
  status          return_status_enum @default(requested)
  swap_id         String?            @unique(map: "REL_bad82d7bff2b08b87094bfac3d") @db.VarChar
  order_id        String?            @db.VarChar
  shipping_data   Json?
  refund_amount   Int
  received_at     DateTime?          @db.Timestamptz(6)
  created_at      DateTime           @default(now()) @db.Timestamptz(6)
  updated_at      DateTime           @default(now()) @db.Timestamptz(6)
  metadata        Json?
  idempotency_key String?            @db.VarChar
  claim_order_id  String?            @unique(map: "UQ_71773d56eb2bacb922bc3283398") @db.VarChar
  no_notification Boolean?
  location_id     String?            @db.VarChar
  claim_order     claim_order?       @relation(fields: [claim_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_71773d56eb2bacb922bc3283398")
  swap            swap?              @relation(fields: [swap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_bad82d7bff2b08b87094bfac3d6")
  order           order?             @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d4bd17f918fc6c332b74a368c36")
  return_item     return_item[]
  shipping_method shipping_method?

  @@index([claim_order_id], map: "IDX_71773d56eb2bacb922bc328339")
  @@index([swap_id], map: "IDX_bad82d7bff2b08b87094bfac3d")
  @@index([order_id], map: "IDX_d4bd17f918fc6c332b74a368c3")
  @@map("return")
}

model return_item {
  return_id          String         @db.VarChar
  item_id            String         @db.VarChar
  quantity           Int
  is_requested       Boolean        @default(true)
  requested_quantity Int?
  received_quantity  Int?
  metadata           Json?
  reason_id          String?        @db.VarChar
  note               String?        @db.VarChar
  Renamedreturn      Renamedreturn  @relation(fields: [return_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_7edab75b4fc88ea6d4f2574f087")
  line_item          line_item      @relation(fields: [item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_87774591f44564effd8039d7162")
  return_reason      return_reason? @relation(fields: [reason_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d742532378a65022e7ceb328828")

  @@id([return_id, item_id], map: "PK_46409dc1dd5f38509b9000c3069")
}

model return_reason {
  id                      String          @id(map: "PK_95fd1172973165790903e65660a") @db.VarChar
  value                   String          @db.VarChar
  label                   String          @db.VarChar
  description             String?         @db.VarChar
  created_at              DateTime        @default(now()) @db.Timestamptz(6)
  updated_at              DateTime        @default(now()) @db.Timestamptz(6)
  deleted_at              DateTime?       @db.Timestamptz(6)
  metadata                Json?
  parent_return_reason_id String?         @db.VarChar
  return_item             return_item[]
  return_reason           return_reason?  @relation("return_reasonToreturn_reason", fields: [parent_return_reason_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_2250c5d9e975987ab212f61a657")
  other_return_reason     return_reason[] @relation("return_reasonToreturn_reason")
}

model sales_channel {
  id                    String                  @id(map: "PK_d1eb0b923ea5a0eb1e0916191f1") @db.VarChar
  created_at            DateTime                @default(now()) @db.Timestamptz(6)
  updated_at            DateTime                @default(now()) @db.Timestamptz(6)
  deleted_at            DateTime?               @db.Timestamptz(6)
  name                  String                  @db.VarChar
  description           String?                 @db.VarChar
  is_disabled           Boolean                 @default(false)
  metadata              Json?
  cart                  cart[]
  order                 order[]
  product_sales_channel product_sales_channel[]
  store                 store?
}

model sales_channel_location {
  id               String    @id(map: "PK_afd2c2c52634bc8280a9c9ee533") @db.VarChar
  created_at       DateTime  @default(now()) @db.Timestamptz(6)
  updated_at       DateTime  @default(now()) @db.Timestamptz(6)
  sales_channel_id String
  location_id      String
  deleted_at       DateTime? @db.Timestamptz(6)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model shipping_method {
  id                       String                     @id(map: "PK_b9b0adfad3c6b99229c1e7d4865") @db.VarChar
  shipping_option_id       String                     @db.VarChar
  order_id                 String?                    @db.VarChar
  cart_id                  String?                    @db.VarChar
  swap_id                  String?                    @db.VarChar
  return_id                String?                    @unique(map: "REL_1d9ad62038998c3a85c77a53cf") @db.VarChar
  price                    Int
  data                     Json
  claim_order_id           String?                    @db.VarChar
  Renamedreturn            Renamedreturn?             @relation(fields: [return_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_1d9ad62038998c3a85c77a53cfb")
  order                    order?                     @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5267705a43d547e232535b656c2")
  claim_order              claim_order?               @relation(fields: [claim_order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d783a66d1c91c0858752c933e68")
  cart                     cart?                      @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_d92993a7d554d84571f4eea1d13")
  swap                     swap?                      @relation(fields: [swap_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_fb94fa8d5ca940daa2a58139f86")
  shipping_option          shipping_option            @relation(fields: [shipping_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_fc963e94854bff2714ca84cd193")
  shipping_method_tax_line shipping_method_tax_line[]

  @@index([return_id], map: "IDX_1d9ad62038998c3a85c77a53cf")
  @@index([order_id], map: "IDX_5267705a43d547e232535b656c")
  @@index([claim_order_id], map: "IDX_d783a66d1c91c0858752c933e6")
  @@index([cart_id], map: "IDX_d92993a7d554d84571f4eea1d1")
  @@index([swap_id], map: "IDX_fb94fa8d5ca940daa2a58139f8")
  @@index([shipping_option_id], map: "IDX_fc963e94854bff2714ca84cd19")
}

model shipping_method_tax_line {
  id                 String          @id(map: "PK_54c94f5908aacbd51cf0a73edb1") @db.VarChar
  rate               Float           @db.Real
  name               String          @db.VarChar
  code               String?         @db.VarChar
  created_at         DateTime        @default(now()) @db.Timestamptz(6)
  updated_at         DateTime        @default(now()) @db.Timestamptz(6)
  metadata           Json?
  shipping_method_id String          @db.VarChar
  shipping_method    shipping_method @relation(fields: [shipping_method_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_926ca9f29014af8091722dede08")

  @@unique([shipping_method_id, code], map: "UQ_cd147fca71e50bc954139fa3104")
  @@index([shipping_method_id], map: "IDX_926ca9f29014af8091722dede0")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model shipping_option {
  id                          String                          @id(map: "PK_2e56fddaa65f3a26d402e5d786e") @db.VarChar
  name                        String                          @db.VarChar
  region_id                   String                          @db.VarChar
  profile_id                  String                          @db.VarChar
  provider_id                 String                          @db.VarChar
  price_type                  shipping_option_price_type_enum
  amount                      Int?
  is_return                   Boolean                         @default(false)
  data                        Json
  created_at                  DateTime                        @default(now()) @db.Timestamptz(6)
  updated_at                  DateTime                        @default(now()) @db.Timestamptz(6)
  deleted_at                  DateTime?                       @db.Timestamptz(6)
  metadata                    Json?
  admin_only                  Boolean                         @default(false)
  custom_shipping_option      custom_shipping_option[]
  shipping_method             shipping_method[]
  region                      region                          @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_5c58105f1752fca0f4ce69f4663")
  fulfillment_provider        fulfillment_provider            @relation(fields: [provider_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_a0e206bfaed3cb63c1860917347")
  shipping_profile            shipping_profile                @relation(fields: [profile_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_c951439af4c98bf2bd7fb8726cd")
  shipping_option_requirement shipping_option_requirement[]
  shipping_tax_rate           shipping_tax_rate[]

  @@index([region_id], map: "IDX_5c58105f1752fca0f4ce69f466")
  @@index([provider_id], map: "IDX_a0e206bfaed3cb63c186091734")
  @@index([profile_id], map: "IDX_c951439af4c98bf2bd7fb8726c")
}

model shipping_option_requirement {
  id                 String                                @id(map: "PK_a0ff15442606d9f783602cb23a7") @db.VarChar
  shipping_option_id String                                @db.VarChar
  type               shipping_option_requirement_type_enum
  amount             Int
  deleted_at         DateTime?                             @db.Timestamptz(6)
  shipping_option    shipping_option                       @relation(fields: [shipping_option_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_012a62ba743e427b5ebe9dee18e")

  @@index([shipping_option_id], map: "IDX_012a62ba743e427b5ebe9dee18")
}

model shipping_profile {
  id              String                     @id(map: "PK_c8120e4543a5a3a121f2968a1ec") @db.VarChar
  name            String                     @db.VarChar
  type            shipping_profile_type_enum
  created_at      DateTime                   @default(now()) @db.Timestamptz(6)
  updated_at      DateTime                   @default(now()) @db.Timestamptz(6)
  deleted_at      DateTime?                  @db.Timestamptz(6)
  metadata        Json?
  shipping_option shipping_option[]
}

model shipping_tax_rate {
  shipping_option_id String          @db.VarChar
  rate_id            String          @db.VarChar
  created_at         DateTime        @default(now()) @db.Timestamptz(6)
  updated_at         DateTime        @default(now()) @db.Timestamptz(6)
  metadata           Json?
  tax_rate           tax_rate        @relation(fields: [rate_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_346e0016cf045b9980747747645")
  shipping_option    shipping_option @relation(fields: [shipping_option_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_f672727ab020df6c50fb64c1a70")

  @@id([shipping_option_id, rate_id], map: "PK_bcd93b14d7e2695365d383f5eae")
  @@index([rate_id], map: "IDX_346e0016cf045b998074774764")
  @@index([shipping_option_id], map: "IDX_f672727ab020df6c50fb64c1a7")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model socialaccount_socialaccount {
  id                        Int                         @id @default(autoincrement())
  provider                  String                      @db.VarChar(200)
  uid                       String                      @db.VarChar(191)
  last_login                DateTime                    @db.Timestamptz(6)
  date_joined               DateTime                    @db.Timestamptz(6)
  extra_data                Json
  user_id                   Int
  auth_user                 auth_user                   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "socialaccount_socialaccount_user_id_8146e70c_fk_auth_user_id")
  socialaccount_socialtoken socialaccount_socialtoken[]

  @@unique([provider, uid], map: "socialaccount_socialaccount_provider_uid_fc810c6e_uniq")
  @@index([user_id], map: "socialaccount_socialaccount_user_id_8146e70c")
}

model socialaccount_socialapp {
  id                            Int                             @id @default(autoincrement())
  provider                      String                          @db.VarChar(30)
  name                          String                          @db.VarChar(40)
  client_id                     String                          @db.VarChar(191)
  secret                        String                          @db.VarChar(191)
  key                           String                          @db.VarChar(191)
  provider_id                   String                          @db.VarChar(200)
  settings                      Json
  socialaccount_socialapp_sites socialaccount_socialapp_sites[]
  socialaccount_socialtoken     socialaccount_socialtoken[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model socialaccount_socialapp_sites {
  id                      BigInt                  @id @default(autoincrement())
  socialapp_id            Int
  site_id                 Int
  django_site             django_site             @relation(fields: [site_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "socialaccount_social_site_id_2579dee5_fk_django_si")
  socialaccount_socialapp socialaccount_socialapp @relation(fields: [socialapp_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "socialaccount_social_socialapp_id_97fb6e7d_fk_socialacc")

  @@unique([socialapp_id, site_id], map: "socialaccount_socialapp__socialapp_id_site_id_71a9a768_uniq")
  @@index([site_id], map: "socialaccount_socialapp_sites_site_id_2579dee5")
  @@index([socialapp_id], map: "socialaccount_socialapp_sites_socialapp_id_97fb6e7d")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model socialaccount_socialtoken {
  id                          Int                         @id @default(autoincrement())
  token                       String
  token_secret                String
  expires_at                  DateTime?                   @db.Timestamptz(6)
  account_id                  Int
  app_id                      Int?
  socialaccount_socialaccount socialaccount_socialaccount @relation(fields: [account_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "socialaccount_social_account_id_951f210e_fk_socialacc")
  socialaccount_socialapp     socialaccount_socialapp?    @relation(fields: [app_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "socialaccount_social_app_id_636a42d7_fk_socialacc")

  @@unique([app_id, account_id], map: "socialaccount_socialtoken_app_id_account_id_fca4e0ac_uniq")
  @@index([account_id], map: "socialaccount_socialtoken_account_id_951f210e")
  @@index([app_id], map: "socialaccount_socialtoken_app_id_636a42d7")
}

model staged_job {
  id         String @id(map: "PK_9a28fb48c46c5509faf43ac8c8d") @db.VarChar
  event_name String @db.VarChar
  data       Json
  options    Json   @default("{}")
}

model store {
  id                       String             @id(map: "PK_f3172007d4de5ae8e7692759d79") @db.VarChar
  name                     String             @default("Medusa Store") @db.VarChar
  default_currency_code    String             @default("usd") @db.VarChar
  swap_link_template       String?            @db.VarChar
  created_at               DateTime           @default(now()) @db.Timestamptz(6)
  updated_at               DateTime           @default(now()) @db.Timestamptz(6)
  metadata                 Json?
  payment_link_template    String?            @db.VarChar
  invite_link_template     String?            @db.VarChar
  default_sales_channel_id String?            @unique(map: "UQ_61b0f48cccbb5f41c750bac7286") @db.VarChar
  default_location_id      String?            @db.VarChar
  currency                 currency           @relation(fields: [default_currency_code], references: [code], onDelete: NoAction, onUpdate: NoAction, map: "FK_55beebaa09e947cccca554af222")
  sales_channel            sales_channel?     @relation(fields: [default_sales_channel_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_61b0f48cccbb5f41c750bac7286")
  store_currencies         store_currencies[]
}

model store_currencies {
  store_id      String   @db.VarChar
  currency_code String   @db.VarChar
  currency      currency @relation(fields: [currency_code], references: [code], onDelete: Cascade, onUpdate: NoAction, map: "FK_82a6bbb0b527c20a0002ddcbd60")
  store         store    @relation(fields: [store_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_b4f4b63d1736689b7008980394c")

  @@id([store_id, currency_code], map: "PK_0f2bff3bccc785c320a4df836de")
  @@index([currency_code], map: "IDX_82a6bbb0b527c20a0002ddcbd6")
  @@index([store_id], map: "IDX_b4f4b63d1736689b7008980394")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model surveys_answer {
  id               BigInt           @id @default(autoincrement())
  answer           String
  question_id      BigInt
  response_id      BigInt
  surveys_question surveys_question @relation(fields: [question_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "surveys_answer_question_id_c0166f3c_fk")
  surveys_response surveys_response @relation(fields: [response_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "surveys_answer_response_id_5416c873_fk")

  @@index([question_id], map: "surveys_answer_question_id_c0166f3c")
  @@index([response_id], map: "surveys_answer_response_id_5416c873")
}

model surveys_encuesta {
  id               BigInt             @id @default(autoincrement())
  title            String             @db.VarChar(255)
  description      String?
  status           String             @db.VarChar(50)
  start_date       DateTime           @db.Date
  end_date         DateTime           @db.Date
  surveys_question surveys_question[]
  surveys_response surveys_response[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model surveys_question {
  id               BigInt           @id @default(autoincrement())
  title            String           @db.VarChar(255)
  type             String           @db.VarChar(50)
  required         Boolean
  options          Json?
  encuesta_id      BigInt
  surveys_answer   surveys_answer[]
  surveys_encuesta surveys_encuesta @relation(fields: [encuesta_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "surveys_question_encuesta_id_85d80c32_fk")

  @@index([encuesta_id], map: "surveys_question_encuesta_id_85d80c32")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model surveys_response {
  id               BigInt           @id @default(autoincrement())
  date             DateTime         @db.Timestamptz(6)
  encuesta_id      BigInt
  surveys_answer   surveys_answer[]
  surveys_encuesta surveys_encuesta @relation(fields: [encuesta_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "surveys_response_encuesta_id_da639ff0_fk")

  @@index([encuesta_id], map: "surveys_response_encuesta_id_da639ff0")
}

model swap {
  id                  String                       @id(map: "PK_4a10d0f359339acef77e7f986d9") @db.VarChar
  fulfillment_status  swap_fulfillment_status_enum
  payment_status      swap_payment_status_enum
  order_id            String                       @db.VarChar
  difference_due      Int?
  shipping_address_id String?                      @db.VarChar
  cart_id             String?                      @unique(map: "REL_402e8182bc553e082f6380020b") @db.VarChar
  confirmed_at        DateTime?                    @db.Timestamptz(6)
  created_at          DateTime                     @default(now()) @db.Timestamptz(6)
  updated_at          DateTime                     @default(now()) @db.Timestamptz(6)
  deleted_at          DateTime?                    @db.Timestamptz(6)
  metadata            Json?
  idempotency_key     String?                      @db.VarChar
  no_notification     Boolean?
  canceled_at         DateTime?                    @db.Timestamptz(6)
  allow_backorder     Boolean                      @default(false)
  fulfillment         fulfillment[]
  line_item           line_item[]
  payment             payment?
  Renamedreturn       Renamedreturn?
  shipping_method     shipping_method[]
  cart                cart?                        @relation(fields: [cart_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_402e8182bc553e082f6380020b4")
  order               order                        @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_52dd74e8c989aa5665ad2852b8b")
  address             address?                     @relation(fields: [shipping_address_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_f5189d38b3d3bd496618bf54c57")

  @@index([order_id], map: "IDX_52dd74e8c989aa5665ad2852b8")
}

model tax_provider {
  id           String   @id(map: "PK_b198bf82ba6a317c11763d99b99") @db.VarChar
  is_installed Boolean  @default(true)
  region       region[]
}

model tax_rate {
  id                    String                  @id(map: "PK_23b71b53f650c0b39e99ccef4fd") @db.VarChar
  rate                  Float?                  @db.Real
  code                  String?                 @db.VarChar
  name                  String                  @db.VarChar
  region_id             String                  @db.VarChar
  created_at            DateTime                @default(now()) @db.Timestamptz(6)
  updated_at            DateTime                @default(now()) @db.Timestamptz(6)
  metadata              Json?
  product_tax_rate      product_tax_rate[]
  product_type_tax_rate product_type_tax_rate[]
  shipping_tax_rate     shipping_tax_rate[]
  region                region                  @relation(fields: [region_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_b95a1e03b051993d208366cb960")
}

model tracking_link {
  id              String      @id(map: "PK_fcfd77feb9012ec2126d7c0bfb6") @db.VarChar
  url             String?     @db.VarChar
  tracking_number String      @db.VarChar
  fulfillment_id  String      @db.VarChar
  created_at      DateTime    @default(now()) @db.Timestamptz(6)
  updated_at      DateTime    @default(now()) @db.Timestamptz(6)
  deleted_at      DateTime?   @db.Timestamptz(6)
  metadata        Json?
  idempotency_key String?     @db.VarChar
  fulfillment     fulfillment @relation(fields: [fulfillment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_471e9e4c96e02ba209a307db32b")
}

model user {
  id            String          @id(map: "PK_cace4a159ff9f2512dd42373760") @db.VarChar
  email         String          @db.VarChar
  first_name    String?         @db.VarChar
  last_name     String?         @db.VarChar
  password_hash String?         @db.VarChar
  api_token     String?         @db.VarChar
  created_at    DateTime        @default(now()) @db.Timestamptz(6)
  updated_at    DateTime        @default(now()) @db.Timestamptz(6)
  deleted_at    DateTime?       @db.Timestamptz(6)
  metadata      Json?
  role          user_role_enum? @default(member)
  batch_job     batch_job[]
}

model vi_ajustes_ecommerce {
  id                   String    @id @db.VarChar(50)
  llave                String    @unique @db.VarChar(255)
  valor                String
  tag                  String?   @db.VarChar(100)
  descripcion          String?
  estaactivo           Boolean   @default(true)
  desactivadoen        DateTime? @db.Timestamp(6)
  creadoen             DateTime  @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime  @default(now()) @db.Timestamp(6)
  usuariocreacion      String    @db.VarChar(50)
  usuarioactualizacion String?   @db.VarChar(50)
}

model vi_almacen {
  id                   String                 @id @db.VarChar(50)
  nombre               String                 @db.VarChar(255)
  id_ubicacion         String?                @db.VarChar(50)
  estaactivo           Boolean                @default(true)
  desactivadoen        DateTime?              @db.Timestamp(6)
  creadoen             DateTime               @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime               @default(now()) @db.Timestamp(6)
  usuariocreacion      String                 @db.VarChar(50)
  usuarioactualizacion String?                @db.VarChar(50)
  vi_ubicacion         vi_ubicacion?          @relation(fields: [id_ubicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_ubicacion")
  vi_inventarioalmacen vi_inventarioalmacen[]
  vi_motorizado        vi_motorizado[]
}

model vi_banco {
  id                   String    @id @db.VarChar(50)
  nombre               String    @db.VarChar(100)
  estaactivo           Boolean   @default(true)
  desactivadoen        DateTime? @db.Timestamp(6)
  creadoen             DateTime  @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime  @default(now()) @db.Timestamp(6)
  usuariocreacion      String    @db.VarChar(50)
  usuarioactualizacion String?   @db.VarChar(50)
  vi_pago              vi_pago[]
}

model vi_categoria_publicacion {
  id                         Int                          @id @default(autoincrement())
  nombre                     String                       @db.VarChar(255)
  descripcion                String?
  fechacreacion              DateTime                     @default(now()) @db.Timestamp(6)
  colorfondo                 String?                      @db.VarChar(20)
  colortexto                 String?                      @db.VarChar(20)
  estaactivo                 Boolean                      @default(true)
  vi_publicacion_x_categoria vi_publicacion_x_categoria[]
}

model vi_ciudad {
  id                   String          @id @db.VarChar(50)
  nombre               String          @db.VarChar(100)
  region               String?         @db.VarChar(100)
  estaactivo           Boolean         @default(true)
  desactivadoen        DateTime?       @db.Timestamp(6)
  creadoen             DateTime        @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime        @default(now()) @db.Timestamp(6)
  usuariocreacion      String          @db.VarChar(50)
  usuarioactualizacion String?         @db.VarChar(50)
  vi_direccion         vi_direccion[]
  vi_motorizado        vi_motorizado[]
}

model vi_combo {
  id                   String                @id @db.VarChar(50)
  titulo               String                @db.VarChar(50)
  descripcion          String?               @db.VarChar(255)
  fechainicio          DateTime              @db.Timestamp(6)
  fechafin             DateTime              @db.Timestamp(6)
  limitestock          Int
  precio               Decimal?              @db.Decimal(5, 2)
  estado               Boolean               @default(true)
  eliminadoen          DateTime?             @db.Timestamp(6)
  creadoen             DateTime?             @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime?             @default(now()) @db.Timestamp(6)
  usuariocreacion      String                @db.VarChar(50)
  usuarioactualizacion String?               @db.VarChar(50)
  vi_combo_x_producto  vi_combo_x_producto[]
  vi_detallepedido     vi_detallepedido[]
  vi_notificacion      vi_notificacion[]
}

model vi_combo_x_producto {
  combo_id    String      @db.VarChar(50)
  producto_id String      @db.VarChar(50)
  vi_combo    vi_combo    @relation(fields: [combo_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  vi_producto vi_producto @relation(fields: [producto_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  @@id([combo_id, producto_id])
}

model vi_comentario {
  id               Int             @id @default(autoincrement())
  comentario       String
  fecha            DateTime        @default(now()) @db.Timestamp(6)
  estadoaprobacion Boolean         @default(false)
  nombreautor      String          @db.VarChar(255)
  estaactivo       Boolean         @default(true)
  id_usuario       String?         @db.VarChar(50)
  id_publicacion   Int?
  vi_publicacion   vi_publicacion? @relation(fields: [id_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_publicacion_comentario")
  vi_usuario       vi_usuario?     @relation(fields: [id_usuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario_comentario")
}

model vi_contenidoeducativo {
  id                   String    @id @db.VarChar(50)
  id_fruta             String?   @db.VarChar(50)
  titulo               String    @db.VarChar(200)
  contenidoinformacion String?
  tipocontenido        String    @db.VarChar(100)
  urlcontenido         String?   @db.VarChar(255)
  fechapublicacion     DateTime  @db.Timestamp(6)
  estaactivo           Boolean   @default(true)
  desactivadoen        DateTime? @db.Timestamp(6)
  creadoen             DateTime  @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime  @default(now()) @db.Timestamp(6)
  usuariocreacion      String    @db.VarChar(50)
  usuarioactualizacion String?   @db.VarChar(50)
  vi_fruta             vi_fruta? @relation(fields: [id_fruta], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_fruta")
}

model vi_cuentaredsocial {
  id                         BigInt            @id @default(autoincrement())
  red_social                 String            @db.VarChar(50)
  usuario                    String            @db.VarChar(100)
  open_id                    String?           @db.VarChar(255)
  page_id                    String?           @db.VarChar(255)
  instagram_business_account String?           @db.VarChar(255)
  token_autenticacion        String
  refresh_token              String?
  tipo_autenticacion         String            @db.VarChar(50)
  fecha_expiracion_token     DateTime          @db.Timestamptz(6)
  fecha_expiracion_refresh   DateTime?         @db.Timestamptz(6)
  linked                     Boolean
  vi_interaccion             vi_interaccion[]
  vi_post                    vi_post[]
  vi_reporteredes            vi_reporteredes[]
  vi_segmento                vi_segmento[]
}

model vi_detallepedido {
  id                   String        @id @db.VarChar(50)
  cantidad             Int
  subtotal             Decimal       @db.Decimal(10, 2)
  id_producto          String?       @db.VarChar(50)
  id_pedido            String?       @db.VarChar(50)
  estaactivo           Boolean       @default(true)
  desactivadoen        DateTime?     @db.Timestamp(6)
  creadoen             DateTime      @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime      @default(now()) @db.Timestamp(6)
  usuariocreacion      String        @db.VarChar(50)
  usuarioactualizacion String?       @db.VarChar(50)
  id_igv               String?       @db.VarChar(50)
  precio               Decimal?      @db.Decimal(10, 2)
  id_promocion         String?       @db.VarChar(50)
  id_combo             String?       @db.VarChar(50)
  vi_combo             vi_combo?     @relation(fields: [id_combo], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_id_combo_detallepedido")
  vi_promocion         vi_promocion? @relation(fields: [id_promocion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_id_promocion_detallepedido")
  vi_igv               vi_igv?       @relation(fields: [id_igv], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_igb")
  vi_pedido            vi_pedido?    @relation(fields: [id_pedido], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_pedido")
  vi_producto          vi_producto?  @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto")
}

model vi_direccion {
  id                   String        @id @db.VarChar(50)
  calle                String        @db.VarChar(255)
  numeroexterior       String        @db.VarChar(20)
  numerointerior       String?       @db.VarChar(20)
  distrito             String        @db.VarChar(100)
  codigopostal         String?       @db.VarChar(10)
  referencia           String?       @db.VarChar(255)
  id_ciudad            String?       @db.VarChar(50)
  id_ubicacion         String?       @db.VarChar(50)
  estaactivo           Boolean       @default(true)
  desactivadoen        DateTime?     @db.Timestamp(6)
  creadoen             DateTime      @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime      @default(now()) @db.Timestamp(6)
  usuariocreacion      String        @db.VarChar(50)
  usuarioactualizacion String?       @db.VarChar(50)
  id_usuario           String?       @db.VarChar(50)
  guardada             Boolean?
  nombre               String?       @db.VarChar(250)
  vi_ciudad            vi_ciudad?    @relation(fields: [id_ciudad], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_ciudad")
  vi_ubicacion         vi_ubicacion? @relation(fields: [id_ubicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_ubicacion")
  vi_usuario           vi_usuario?   @relation(fields: [id_usuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario")
  vi_pedido            vi_pedido[]
}

model vi_estado_version {
  id                     Int                      @id
  nombre                 String                   @db.VarChar(255)
  descripcion            String?
  color                  String?                  @db.VarChar(20)
  estaactivo             Boolean                  @default(true)
  vi_version_publicacion vi_version_publicacion[]
}

model vi_etiqueta {
  id              BigInt            @id @default(autoincrement())
  nombre          String            @db.VarChar(100)
  vi_postetiqueta vi_postetiqueta[]
}

model vi_etiqueta_publicacion {
  id                        Int                         @id @default(autoincrement())
  nombre                    String                      @db.VarChar(255)
  descripcion               String?
  fechacreacion             DateTime                    @default(now()) @db.Timestamp(6)
  colorfondo                String?                     @db.VarChar(20)
  colortexto                String?                     @db.VarChar(20)
  estaactivo                Boolean                     @default(true)
  vi_publicacion_x_etiqueta vi_publicacion_x_etiqueta[]
}

model vi_fruta {
  id                    String                  @id @db.VarChar(50)
  nombre                String                  @db.VarChar(255)
  urlimagen             String                  @db.VarChar(255)
  descripcion           String?
  informacioneducativa  String?
  estaactivo            Boolean                 @default(true)
  desactivadoen         DateTime?               @db.Timestamp(6)
  creadoen              DateTime                @default(now()) @db.Timestamp(6)
  actualizadoen         DateTime                @default(now()) @db.Timestamp(6)
  usuariocreacion       String                  @db.VarChar(50)
  usuarioactualizacion  String?                 @db.VarChar(50)
  vi_contenidoeducativo vi_contenidoeducativo[]
  vi_producto_fruta     vi_producto_fruta[]
}

model vi_historialrepartidor {
  id                   String         @id @db.VarChar(50)
  estado               String?        @db.VarChar(50)
  razonderechazo       String?        @db.VarChar(255)
  id_motorizado        String?        @db.VarChar(50)
  id_usuario           String?        @db.VarChar(50)
  id_pedido            String?        @db.VarChar(50)
  estaactivo           Boolean        @default(true)
  desactivadoen        DateTime?      @db.Timestamp(6)
  creadoen             DateTime       @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime       @default(now()) @db.Timestamp(6)
  usuariocreacion      String         @db.VarChar(50)
  usuarioactualizacion String?        @db.VarChar(50)
  vi_motorizado        vi_motorizado? @relation(fields: [id_motorizado], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_motorizado")
  vi_pedido            vi_pedido?     @relation(fields: [id_pedido], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_pedido")
  vi_usuario           vi_usuario?    @relation(fields: [id_usuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario")
}

model vi_igv {
  id                   String             @id @db.VarChar(50)
  porcentaje           Decimal            @db.Decimal(5, 2)
  estaactivo           Boolean            @default(true)
  desactivadoen        DateTime?          @db.Timestamp(6)
  creadoen             DateTime           @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime           @default(now()) @db.Timestamp(6)
  usuariocreacion      String             @db.VarChar(50)
  usuarioactualizacion String?            @db.VarChar(50)
  vi_detallepedido     vi_detallepedido[]
  vi_producto          vi_producto[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model vi_interaccion {
  id                        BigInt             @id @default(autoincrement())
  tipo                      String             @db.VarChar(1)
  contenido                 String
  fecha                     DateTime           @db.Date
  username                  String             @db.VarChar(100)
  id_interaccion_red_social String?            @db.VarChar(255)
  cuenta_id                 BigInt
  post_id                   BigInt
  vi_cuentaredsocial        vi_cuentaredsocial @relation(fields: [cuenta_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_interaccion_cuenta_id_a4760510_fk_vi_cuentaredsocial_id")
  vi_post                   vi_post            @relation(fields: [post_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_interaccion_post_id_483b6731_fk_vi_post_id")

  @@index([cuenta_id], map: "vi_interaccion_cuenta_id_a4760510")
  @@index([post_id], map: "vi_interaccion_post_id_483b6731")
}

model vi_inventarioalmacen {
  id                   String       @id @db.VarChar(50)
  stock                Int?
  estaactivo           Boolean?     @default(true)
  desactivadoen        DateTime?    @db.Timestamp(6)
  creadoen             DateTime?    @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime?    @default(now()) @db.Timestamp(6)
  usuariocreacion      String?      @db.VarChar(50)
  usuarioactualizacion String?      @db.VarChar(50)
  id_producto          String?      @db.VarChar(50)
  id_almacen           String?      @db.VarChar(50)
  vi_almacen           vi_almacen?  @relation(fields: [id_almacen], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_almacen")
  vi_producto          vi_producto? @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto")
}

model vi_inventariomotorizado {
  id                   String         @id @db.VarChar(50)
  stock                Int
  stockminimo          Int
  esmerma              Boolean        @default(false)
  motivomerma          String?        @db.VarChar(255)
  urlimagenmerma       String?        @db.VarChar(255)
  id_motorizado        String?        @db.VarChar(50)
  id_producto          String?        @db.VarChar(50)
  estaactivo           Boolean        @default(true)
  desactivadoen        DateTime?      @db.Timestamp(6)
  creadoen             DateTime       @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime       @default(now()) @db.Timestamp(6)
  usuariocreacion      String         @db.VarChar(50)
  usuarioactualizacion String?        @db.VarChar(50)
  vi_motorizado        vi_motorizado? @relation(fields: [id_motorizado], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_motorizado")
  vi_producto          vi_producto?   @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto")
}

model vi_libroreclamaciones {
  id                   String    @id @db.VarChar(50)
  fechaincidente       DateTime  @db.Timestamp(6)
  nombres              String    @db.VarChar(100)
  apellidos            String    @db.VarChar(100)
  correo               String    @db.VarChar(100)
  telefono             String?   @db.VarChar(20)
  tipodoc              String    @db.VarChar(3)
  nrdocumento          String    @db.VarChar(20)
  menor                Boolean   @default(false)
  departamento         String    @db.VarChar(50)
  provincia            String    @db.VarChar(50)
  distrito             String    @db.VarChar(50)
  direccion            String    @db.VarChar(200)
  tipo                 String    @db.VarChar(10)
  montoreclamado       Decimal   @db.Decimal(10, 2)
  descripcion          String
  reclamacion          String    @db.VarChar(7)
  nrpedido             String?   @db.VarChar(50)
  fechapedido          DateTime? @db.Timestamp(6)
  detalle              String?
  pedidoconcreto       String?
  urlcomprobante       String?   @db.VarChar(200)
  accionesproveedor    String?
  estaactivo           Boolean   @default(true)
  desactivadoen        DateTime? @db.Timestamp(6)
  creadoen             DateTime  @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime  @default(now()) @db.Timestamp(6)
  usuariocreacion      String    @db.VarChar(50)
  usuarioactualizacion String?   @db.VarChar(50)
}

model vi_metodopago {
  id                   String                 @id @db.VarChar(50)
  nombre               String                 @db.VarChar(50)
  estaactivo           Boolean                @default(true)
  desactivadoen        DateTime?              @db.Timestamp(6)
  creadoen             DateTime               @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime               @default(now()) @db.Timestamp(6)
  usuariocreacion      String                 @db.VarChar(50)
  usuarioactualizacion String?                @db.VarChar(50)
  vi_pago              vi_pago[]
  vi_pedido_metodopago vi_pedido_metodopago[]
}

model vi_motorizado {
  id                      String                    @id @db.VarChar(50)
  placa                   String                    @unique(map: "unique_placa") @db.VarChar(20)
  id_almacen              String?                   @db.VarChar(50)
  id_usuario              String?                   @db.VarChar(50)
  estaactivo              Boolean                   @default(true)
  desactivadoen           DateTime?                 @db.Timestamp(6)
  creadoen                DateTime                  @default(now()) @db.Timestamp(6)
  actualizadoen           DateTime                  @default(now()) @db.Timestamp(6)
  usuariocreacion         String                    @db.VarChar(50)
  usuarioactualizacion    String?                   @db.VarChar(50)
  id_ciudad               String?                   @db.VarChar(50)
  disponible              Boolean?
  urlimagen               String?                   @db.VarChar(255)
  vi_historialrepartidor  vi_historialrepartidor[]
  vi_inventariomotorizado vi_inventariomotorizado[]
  vi_almacen              vi_almacen?               @relation(fields: [id_almacen], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_almacen")
  vi_ciudad               vi_ciudad?                @relation(fields: [id_ciudad], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_ciudad")
  vi_usuario              vi_usuario?               @relation(fields: [id_usuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario")
  vi_pedido               vi_pedido[]
}

model vi_notificacion {
  id                   String        @id @db.VarChar(50)
  asunto               String        @db.VarChar(255)
  descripcion          String?
  tiponotificacion     String?       @db.VarChar(100)
  leido                Boolean       @default(false)
  estaactivo           Boolean       @default(true)
  desactivadoen        DateTime?     @db.Timestamp(6)
  creadoen             DateTime      @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime      @default(now()) @db.Timestamp(6)
  usuariocreacion      String        @db.VarChar(50)
  usuarioactualizacion String?       @db.VarChar(50)
  idusuario            String?       @db.VarChar(50)
  sistema              String?       @db.VarChar(50)
  id_promocion         String?       @db.VarChar(50)
  id_combo             String?       @db.VarChar(50)
  vi_combo             vi_combo?     @relation(fields: [id_combo], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_id_combo_notificacion")
  vi_promocion         vi_promocion? @relation(fields: [id_promocion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_id_promocion_notificacion")
  vi_usuario           vi_usuario?   @relation(fields: [idusuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario")
}

model vi_ordenserie {
  id                   String     @id @db.VarChar(50)
  nombre               String     @db.VarChar(10)
  descripcion          String?
  estaactivo           Boolean    @default(true)
  desactivadoen        DateTime?  @db.Timestamp(6)
  creadoen             DateTime   @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime   @default(now()) @db.Timestamp(6)
  usuariocreacion      String     @db.VarChar(50)
  usuarioactualizacion String?    @db.VarChar(50)
  vi_venta             vi_venta[]
}

model vi_pago {
  id                   String         @id @db.VarChar(50)
  estransferencia      Boolean
  montocobrado         Decimal        @db.Decimal(10, 2)
  numerooperacion      String?        @db.VarChar(50)
  urlevidencia         String?        @db.VarChar(200)
  codigotransaccion    String?        @db.VarChar(100)
  id_venta             String?        @db.VarChar(50)
  id_metodopago        String?        @db.VarChar(50)
  id_banco             String?        @db.VarChar(50)
  estaactivo           Boolean        @default(true)
  desactivadoen        DateTime?      @db.Timestamp(6)
  creadoen             DateTime       @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime       @default(now()) @db.Timestamp(6)
  usuariocreacion      String         @db.VarChar(50)
  usuarioactualizacion String?        @db.VarChar(50)
  vi_banco             vi_banco?      @relation(fields: [id_banco], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_banco")
  vi_metodopago        vi_metodopago? @relation(fields: [id_metodopago], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_metodopago")
  vi_venta             vi_venta?      @relation(fields: [id_venta], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_venta")
}

model vi_pedido {
  id                     String                   @id @db.VarChar(50)
  estado                 String                   @db.VarChar(50)
  prioridadentrega       String?                  @db.VarChar(20)
  total                  Decimal                  @default(0) @db.Decimal(10, 2)
  puntosotorgados        Int?                     @default(0)
  motivocancelacion      String?
  codigoseguimiento      String?                  @db.VarChar(100)
  montoefectivopagar     Decimal?                 @db.Decimal(10, 2)
  id_motorizado          String?                  @db.VarChar(50)
  id_direccion           String?                  @db.VarChar(50)
  id_usuario             String?                  @db.VarChar(50)
  estaactivo             Boolean                  @default(true)
  desactivadoen          DateTime?                @db.Timestamp(6)
  creadoen               DateTime                 @default(now()) @db.Timestamp(6)
  actualizadoen          DateTime                 @default(now()) @db.Timestamp(6)
  usuariocreacion        String                   @db.VarChar(50)
  usuarioactualizacion   String?                  @db.VarChar(50)
  vi_detallepedido       vi_detallepedido[]
  vi_historialrepartidor vi_historialrepartidor[]
  vi_direccion           vi_direccion?            @relation(fields: [id_direccion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_direccion")
  vi_motorizado          vi_motorizado?           @relation(fields: [id_motorizado], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_motorizado")
  vi_usuario             vi_usuario?              @relation(fields: [id_usuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario")
  vi_pedido_metodopago   vi_pedido_metodopago[]
  vi_venta               vi_venta[]
}

model vi_pedido_metodopago {
  id_pedido            String        @db.VarChar(50)
  id_metodopago        String        @db.VarChar(50)
  estaactivo           Boolean       @default(true)
  desactivadoen        DateTime?     @db.Timestamp(6)
  creadoen             DateTime      @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime      @default(now()) @db.Timestamp(6)
  usuariocreacion      String        @default("admin") @db.VarChar(50)
  usuarioactualizacion String?       @db.VarChar(50)
  vi_metodopago        vi_metodopago @relation(fields: [id_metodopago], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_metodopago")
  vi_pedido            vi_pedido     @relation(fields: [id_pedido], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_pedido")

  @@id([id_pedido, id_metodopago])
}

model vi_permiso {
  id                   String           @id @db.VarChar(50)
  nombre               String           @db.VarChar(255)
  estaactivo           Boolean          @default(true)
  desactivadoen        DateTime?        @db.Timestamp(6)
  creadoen             DateTime         @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime         @default(now()) @db.Timestamp(6)
  usuariocreacion      String           @db.VarChar(50)
  usuarioactualizacion String?          @db.VarChar(50)
  vi_rol_permiso       vi_rol_permiso[]
}

model vi_persona {
  id                   String       @id @db.VarChar(50)
  tipodocumento        String?      @db.VarChar(5)
  numerodocumento      String?      @db.VarChar(20)
  razoneliminacion     String?      @db.VarChar(255)
  estado               String       @db.VarChar(50)
  estaactivo           Boolean      @default(true)
  desactivadoen        DateTime?    @db.Timestamp(6)
  creadoen             DateTime     @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime     @default(now()) @db.Timestamp(6)
  usuariocreacion      String       @db.VarChar(50)
  usuarioactualizacion String?      @db.VarChar(50)
  vi_usuario           vi_usuario[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model vi_post {
  id                              BigInt                            @id @default(autoincrement())
  contenido                       String
  link                            String?                           @db.VarChar(200)
  preview                         String?                           @db.VarChar(200)
  media                           String?                           @db.VarChar(100)
  fecha_publicacion               DateTime?                         @db.Date
  fecha_creacion                  DateTime                          @db.Date
  fecha_modificacion              DateTime                          @db.Date
  is_programmed                   Boolean
  programmed_post_time            DateTime?                         @db.Timestamptz(6)
  estado                          String                            @db.VarChar(2)
  red_social                      String                            @db.VarChar(255)
  tipo                            String?                           @db.VarChar(255)
  id_red_social                   String?                           @db.VarChar(255)
  cuenta_id                       BigInt
  marketing_campaigns_postcampana marketing_campaigns_postcampana[]
  vi_interaccion                  vi_interaccion[]
  vi_cuentaredsocial              vi_cuentaredsocial                @relation(fields: [cuenta_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_post_cuenta_id_6abc1862_fk_vi_cuentaredsocial_id")
  vi_postetiqueta                 vi_postetiqueta[]

  @@index([cuenta_id], map: "vi_post_cuenta_id_6abc1862")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model vi_postetiqueta {
  id          BigInt      @id @default(autoincrement())
  etiqueta_id BigInt
  post_id     BigInt
  vi_etiqueta vi_etiqueta @relation(fields: [etiqueta_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_postetiqueta_etiqueta_id_72ddc51a_fk_vi_etiqueta_id")
  vi_post     vi_post     @relation(fields: [post_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_postetiqueta_post_id_088ea4ed_fk_vi_post_id")

  @@index([etiqueta_id], map: "vi_postetiqueta_etiqueta_id_72ddc51a")
  @@index([post_id], map: "vi_postetiqueta_post_id_088ea4ed")
}

model vi_producto {
  id                       String                     @id @db.VarChar(50)
  codigo                   String?                    @unique @db.VarChar(255)
  nombre                   String                     @db.VarChar(255)
  precioa                  Decimal?                   @db.Decimal(10, 2)
  preciob                  Decimal?                   @db.Decimal(10, 2)
  precioc                  Decimal?                   @db.Decimal(10, 2)
  precioecommerce          Decimal                    @db.Decimal(10, 2)
  urlimagen                String?                    @db.VarChar(255)
  descripcion              String?
  informacionnutricional   String?
  razoneliminacion         String?
  estado                   Boolean                    @default(true)
  sevendeecommerce         Boolean                    @default(false)
  estaactivo               Boolean                    @default(true)
  usuariocreacion          String                     @db.VarChar(255)
  usuarioactualizacion     String?                    @db.VarChar(255)
  creadoen                 DateTime                   @default(now()) @db.Timestamp(6)
  actualizadoen            DateTime                   @default(now()) @db.Timestamp(6)
  desactivadoen            DateTime?                  @db.Timestamp(6)
  id_tipoproducto          String?                    @db.VarChar(50)
  id_igv                   String?                    @db.VarChar(50)
  id_promocion             String?                    @db.VarChar(50)
  vi_combo_x_producto      vi_combo_x_producto[]
  vi_detallepedido         vi_detallepedido[]
  vi_inventarioalmacen     vi_inventarioalmacen[]
  vi_inventariomotorizado  vi_inventariomotorizado[]
  vi_promocion             vi_promocion?              @relation(fields: [id_promocion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_id_promocion_producto")
  vi_igv                   vi_igv?                    @relation(fields: [id_igv], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_igb")
  vi_tipoproducto          vi_tipoproducto?           @relation(fields: [id_tipoproducto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_tipo_producto")
  vi_producto_fruta        vi_producto_fruta[]
  vi_producto_subcategoria vi_producto_subcategoria[]
  vi_puntos_producto       vi_puntos_producto[]
  vi_recompensa_puntos     vi_recompensa_puntos[]
}

model vi_producto_fruta {
  id_producto          String      @db.VarChar(50)
  id_fruta             String      @db.VarChar(50)
  estaactivo           Boolean     @default(true)
  desactivadoen        DateTime?   @db.Timestamp(6)
  creadoen             DateTime    @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime    @default(now()) @db.Timestamp(6)
  usuariocreacion      String      @default("admin") @db.VarChar(50)
  usuarioactualizacion String?     @db.VarChar(50)
  vi_fruta             vi_fruta    @relation(fields: [id_fruta], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_fruta")
  vi_producto          vi_producto @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto")

  @@id([id_producto, id_fruta])
}

model vi_producto_subcategoria {
  id_producto          String          @db.VarChar(50)
  id_subcategoria      String          @db.VarChar(50)
  estaactivo           Boolean         @default(true)
  desactivadoen        DateTime?       @db.Timestamp(6)
  creadoen             DateTime        @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime        @default(now()) @db.Timestamp(6)
  usuariocreacion      String          @default("admin") @db.VarChar(50)
  usuarioactualizacion String?         @db.VarChar(50)
  vi_producto          vi_producto     @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto")
  vi_subcategoria      vi_subcategoria @relation(fields: [id_subcategoria], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_subcategoria")

  @@id([id_producto, id_subcategoria])
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model vi_promocion {
  id                   String             @id @db.VarChar(50)
  titulo               String             @db.VarChar(50)
  descripcion          String?            @db.VarChar(255)
  fechainicio          DateTime           @db.Timestamp(6)
  fechafin             DateTime           @db.Timestamp(6)
  limitestock          Int
  porcentajedescuento  Decimal?           @default(0) @db.Decimal(5, 2)
  estado               Boolean            @default(true)
  eliminadoen          DateTime?          @db.Timestamp(6)
  creadoen             DateTime?          @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime?          @default(now()) @db.Timestamp(6)
  usuariocreacion      String             @db.VarChar(50)
  usuarioactualizacion String?            @db.VarChar(50)
  vi_detallepedido     vi_detallepedido[]
  vi_notificacion      vi_notificacion[]
  vi_producto          vi_producto[]
}

model vi_publicacion {
  id                         Int                          @id @default(autoincrement())
  fechacreacion              DateTime                     @default(now()) @db.Timestamp(6)
  estaactivo                 Boolean                      @default(true)
  archivado                  Boolean?                     @default(false)
  id_tipo_publicacion        Int?
  id_usuario                 String?                      @db.VarChar(50)
  vi_comentario              vi_comentario[]
  vi_tipo_publicacion        vi_tipo_publicacion?         @relation(fields: [id_tipo_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_tipo_publicacion")
  vi_usuario                 vi_usuario?                  @relation(fields: [id_usuario], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_usuario")
  vi_publicacion_x_categoria vi_publicacion_x_categoria[]
  vi_publicacion_x_etiqueta  vi_publicacion_x_etiqueta[]
  vi_version_publicacion     vi_version_publicacion[]
}

model vi_publicacion_x_categoria {
  id_publicacion           Int
  id_categoria_publicacion Int
  vi_categoria_publicacion vi_categoria_publicacion @relation(fields: [id_categoria_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_categoria_publicacion_categoria")
  vi_publicacion           vi_publicacion           @relation(fields: [id_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_publicacion_categoria_publicacion")

  @@id([id_publicacion, id_categoria_publicacion])
}

model vi_publicacion_x_etiqueta {
  id_publicacion          Int
  id_etiqueta_publicacion Int
  vi_etiqueta_publicacion vi_etiqueta_publicacion @relation(fields: [id_etiqueta_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_etiqueta")
  vi_publicacion          vi_publicacion          @relation(fields: [id_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_publicacion")

  @@id([id_publicacion, id_etiqueta_publicacion])
}

model vi_puntos_producto {
  id_puntosproducto Int         @id @default(autoincrement())
  id_producto       String      @db.VarChar(50)
  cantidadpuntos    Int
  estado            Boolean     @default(true)
  fechaactivo       DateTime    @default(now()) @db.Timestamp(6)
  fechainactivo     DateTime?   @db.Timestamp(6)
  vi_producto       vi_producto @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto_puntos")
}

model vi_recompensa_puntos {
  id_recompensa        Int         @id @default(autoincrement())
  id_producto          String      @db.VarChar(50)
  puntosnecesarios     Int
  stockdisponible      Int
  estado               Boolean     @default(true)
  creadoen             DateTime?   @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime?   @default(now()) @db.Timestamp(6)
  usuariocreacion      String?     @db.VarChar(255)
  usuarioactualizacion String?     @db.VarChar(255)
  vi_producto          vi_producto @relation(fields: [id_producto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto_recompensa")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model vi_reporteredes {
  id                   BigInt             @id @default(autoincrement())
  fecha_inicio         DateTime           @db.Date
  fecha_fin            DateTime           @db.Date
  total_usuarios       Int
  total_publicaciones  Int
  total_interacciones  Int
  cuenta_red_social_id BigInt
  vi_cuentaredsocial   vi_cuentaredsocial @relation(fields: [cuenta_red_social_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_reporteredes_cuenta_red_social_id_2ae5f9e0_fk_vi_cuenta")

  @@index([cuenta_red_social_id], map: "vi_reporteredes_cuenta_red_social_id_2ae5f9e0")
}

model vi_rol {
  id                   String           @id @db.VarChar(50)
  nombre               String           @db.VarChar(255)
  estaactivo           Boolean          @default(true)
  desactivadoen        DateTime?        @db.Timestamp(6)
  creadoen             DateTime         @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime         @default(now()) @db.Timestamp(6)
  usuariocreacion      String           @db.VarChar(50)
  usuarioactualizacion String?          @db.VarChar(50)
  vi_rol_permiso       vi_rol_permiso[]
  vi_usuario           vi_usuario[]
}

model vi_rol_permiso {
  id_rol        String     @db.VarChar(50)
  id_permiso    String     @db.VarChar(50)
  creadoen      DateTime   @default(now()) @db.Timestamp(6)
  actualizadoen DateTime   @default(now()) @db.Timestamp(6)
  vi_permiso    vi_permiso @relation(fields: [id_permiso], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_permiso")
  vi_rol        vi_rol     @relation(fields: [id_rol], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_rol")

  @@id([id_rol, id_permiso])
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model vi_segmento {
  id                                    BigInt                                  @id @default(autoincrement())
  nombre                                String                                  @db.VarChar(100)
  descripcion                           String
  criterio                              String
  fecha_creacion                        DateTime                                @db.Date
  cuenta_id                             BigInt
  marketing_campaigns_campana_segmentos marketing_campaigns_campana_segmentos[]
  vi_cuentaredsocial                    vi_cuentaredsocial                      @relation(fields: [cuenta_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "vi_segmento_cuenta_id_4e9532b5_fk_vi_cuentaredsocial_id")

  @@index([cuenta_id], map: "vi_segmento_cuenta_id_4e9532b5")
}

model vi_subcategoria {
  id                           String                         @id @db.VarChar(50)
  nombre                       String                         @db.VarChar(255)
  estaactivo                   Boolean                        @default(true)
  desactivadoen                DateTime?                      @db.Timestamp(6)
  creadoen                     DateTime                       @default(now()) @db.Timestamp(6)
  actualizadoen                DateTime                       @default(now()) @db.Timestamp(6)
  usuariocreacion              String                         @default("admin") @db.VarChar(50)
  usuarioactualizacion         String?                        @db.VarChar(50)
  vi_producto_subcategoria     vi_producto_subcategoria[]
  vi_tipoproducto_subcategoria vi_tipoproducto_subcategoria[]
}

model vi_tipo_publicacion {
  id             Int              @id
  nombre         String           @db.VarChar(255)
  descripcion    String?
  fechacreacion  DateTime         @default(now()) @db.Timestamp(6)
  estaactivo     Boolean          @default(true)
  vi_publicacion vi_publicacion[]
}

model vi_tipoproducto {
  id                           String                         @id @db.VarChar(50)
  nombre                       String                         @db.VarChar(255)
  estaactivo                   Boolean                        @default(true)
  desactivadoen                DateTime?                      @db.Timestamp(6)
  creadoen                     DateTime                       @default(now()) @db.Timestamp(6)
  actualizadoen                DateTime                       @default(now()) @db.Timestamp(6)
  usuariocreacion              String                         @db.VarChar(50)
  usuarioactualizacion         String?                        @db.VarChar(50)
  vi_producto                  vi_producto[]
  vi_tipoproducto_subcategoria vi_tipoproducto_subcategoria[]
}

model vi_tipoproducto_subcategoria {
  id_tipoproducto      String          @db.VarChar(50)
  id_subcategoria      String          @db.VarChar(50)
  estaactivo           Boolean         @default(true)
  desactivadoen        DateTime?       @db.Timestamp(6)
  creadoen             DateTime        @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime        @default(now()) @db.Timestamp(6)
  usuariocreacion      String          @default("admin") @db.VarChar(50)
  usuarioactualizacion String?         @db.VarChar(50)
  vi_tipoproducto      vi_tipoproducto @relation(fields: [id_tipoproducto], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_producto")
  vi_subcategoria      vi_subcategoria @relation(fields: [id_subcategoria], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_subcategoria")

  @@id([id_tipoproducto, id_subcategoria])
}

model vi_ubicacion {
  id                   String         @id @db.VarChar(50)
  latitud              Decimal        @db.Decimal(10, 7)
  longitud             Decimal        @db.Decimal(10, 7)
  estaactivo           Boolean        @default(true)
  desactivadoen        DateTime?      @db.Timestamp(6)
  creadoen             DateTime       @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime       @default(now()) @db.Timestamp(6)
  usuariocreacion      String         @db.VarChar(50)
  usuarioactualizacion String?        @db.VarChar(50)
  vi_almacen           vi_almacen[]
  vi_direccion         vi_direccion[]
}

model vi_usuario {
  id                                 String                               @id @db.VarChar(50)
  nombre                             String                               @db.VarChar(100)
  apellido                           String                               @db.VarChar(100)
  concuenta                          Boolean
  numerotelefono                     String?                              @db.VarChar(15)
  correo                             String?                              @unique @db.VarChar(150)
  contrasena                         String                               @db.VarChar(255)
  fechaultimologin                   DateTime?                            @db.Timestamp(6)
  id_persona                         String?                              @db.VarChar(50)
  estaactivo                         Boolean                              @default(true)
  desactivadoen                      DateTime?                            @db.Timestamp(6)
  creadoen                           DateTime                             @default(now()) @db.Timestamp(6)
  actualizadoen                      DateTime                             @default(now()) @db.Timestamp(6)
  usuariocreacion                    String                               @db.VarChar(50)
  usuarioactualizacion               String?                              @db.VarChar(50)
  id_rol                             String                               @db.VarChar(50)
  resettoken                         String?                              @db.VarChar(255)
  resettokenexpiracion               DateTime?                            @db.Timestamp(6)
  marketing_campaigns_campanausuario marketing_campaigns_campanausuario[]
  vi_comentario                      vi_comentario[]
  vi_direccion                       vi_direccion[]
  vi_historialrepartidor             vi_historialrepartidor[]
  vi_motorizado                      vi_motorizado[]
  vi_notificacion                    vi_notificacion[]
  vi_pedido                          vi_pedido[]
  vi_publicacion                     vi_publicacion[]
  vi_persona                         vi_persona?                          @relation(fields: [id_persona], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_persona")
  vi_rol                             vi_rol                               @relation(fields: [id_rol], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_rol")
}

model vi_venta {
  id                   String         @id @db.VarChar(50)
  tipocomprobante      String         @db.VarChar(10)
  fechaventa           DateTime       @db.Timestamp(6)
  numerocomprobante    String         @db.VarChar(50)
  montototal           Decimal        @db.Decimal(10, 2)
  totalpaletas         Int
  totalmafeletas       Int
  estado               String         @db.VarChar(50)
  totaligv             Decimal        @db.Decimal(10, 2)
  id_pedido            String?        @db.VarChar(50)
  id_ordenserie        String?        @db.VarChar(50)
  estaactivo           Boolean        @default(true)
  desactivadoen        DateTime?      @db.Timestamp(6)
  creadoen             DateTime       @default(now()) @db.Timestamp(6)
  actualizadoen        DateTime       @default(now()) @db.Timestamp(6)
  usuariocreacion      String         @db.VarChar(50)
  usuarioactualizacion String?        @db.VarChar(50)
  vi_pago              vi_pago[]
  vi_ordenserie        vi_ordenserie? @relation(fields: [id_ordenserie], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_ordenserie")
  vi_pedido            vi_pedido?     @relation(fields: [id_pedido], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_pedido")
}

model vi_version_publicacion {
  id                      Int               @id @default(autoincrement())
  id_publicacion          Int
  id_estado               Int
  titulo                  String            @db.VarChar(255)
  urlimagen               String?           @db.VarChar(255)
  descripcionseo          String?           @db.VarChar(255)
  slug                    String?           @db.VarChar(255)
  fechacreacion           DateTime          @default(now()) @db.Timestamp(6)
  fechaultimamodificacion DateTime          @default(now()) @db.Timestamp(6)
  estaactivo              Boolean?          @default(true)
  richtext                String?
  vi_estado_version       vi_estado_version @relation(fields: [id_estado], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_estado_version")
  vi_publicacion          vi_publicacion    @relation(fields: [id_publicacion], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_publicacion")
}

enum PAYMENT_COLLECTION_STATUS_ENUM {
  not_paid
  awaiting
  authorized
  partially_authorized
  canceled
}

enum PAYMENT_COLLECTION_TYPE_ENUM {
  order_edit
}

enum cart_type_enum {
  default
  swap
  draft_order
  payment_link
  claim
}

enum claim_item_reason_enum {
  missing_item
  wrong_item
  production_failure
  other
}

enum claim_order_fulfillment_status_enum {
  not_fulfilled
  partially_fulfilled
  fulfilled
  partially_shipped
  shipped
  partially_returned
  returned
  canceled
  requires_action
}

enum claim_order_payment_status_enum {
  na
  not_refunded
  refunded
}

enum claim_order_type_enum {
  refund
  replace
}

enum discount_condition_operator_enum {
  in
  not_in
}

enum discount_condition_type_enum {
  products
  product_types
  product_collections
  product_tags
  customer_groups
}

enum discount_rule_allocation_enum {
  total
  item
}

enum discount_rule_type_enum {
  fixed
  percentage
  free_shipping
}

enum draft_order_status_enum {
  open
  completed
}

enum invite_role_enum {
  admin
  member
  developer
}

enum order_fulfillment_status_enum {
  not_fulfilled
  partially_fulfilled
  fulfilled
  partially_shipped
  shipped
  partially_returned
  returned
  canceled
  requires_action
}

enum order_item_change_type_enum {
  item_add
  item_remove
  item_update
}

enum order_payment_status_enum {
  not_paid
  awaiting
  captured
  partially_refunded
  refunded
  canceled
  requires_action
}

enum order_status_enum {
  pending
  completed
  archived
  canceled
  requires_action
}

enum payment_session_status_enum {
  authorized
  pending
  requires_more
  error
  canceled
}

enum price_list_status_enum {
  active
  draft
}

enum price_list_type_enum {
  sale
  override
}

enum product_status_enum {
  draft
  proposed
  published
  rejected
}

enum refund_reason_enum {
  discount
  return
  swap
  claim
  other
}

enum return_status_enum {
  requested
  received
  requires_action
  canceled
}

enum shipping_option_price_type_enum {
  flat_rate
  calculated
}

enum shipping_option_requirement_type_enum {
  min_subtotal
  max_subtotal
}

enum shipping_profile_type_enum {
  default
  gift_card
  custom
}

enum swap_fulfillment_status_enum {
  not_fulfilled
  fulfilled
  shipped
  partially_shipped
  canceled
  requires_action
}

enum swap_payment_status_enum {
  not_paid
  awaiting
  captured
  confirmed
  canceled
  difference_refunded
  partially_refunded
  refunded
  requires_action
}

enum user_role_enum {
  admin
  member
  developer
}
